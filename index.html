<!DOCTYPE html>
<html lang="zh">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>å°ç†ŠçŒ«çš„èŠ±å›­</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



    <meta property="og:type" content="website">
<meta property="og:title" content="å°ç†ŠçŒ«çš„èŠ±å›­">
<meta property="og:url" content="http://jane66.com/index.html">
<meta property="og:site_name" content="å°ç†ŠçŒ«çš„èŠ±å›­">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="å°ç†ŠçŒ«çš„èŠ±å›­">





<link rel="icon" href="/images/favicon.png">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.png" alt="å°ç†ŠçŒ«çš„èŠ±å›­" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item is-active" href="/">ä¸»é¡µ</a>
                
                <a class="navbar-item" href="/archives">å½’æ¡£</a>
                
                <a class="navbar-item" href="/categories">åˆ†ç±»</a>
                
                <a class="navbar-item" href="/tags">æ ‡ç­¾</a>
                
                <a class="navbar-item" href="/about">å…³äº</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                
                <a class="navbar-item search" title="æœç´¢" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main">
    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-08-29T01:50:00.000Z">2018-08-29</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/å·¥ä½œ/">å·¥ä½œ</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/å·¥ä½œ/å°ç¨‹åº/">å°ç¨‹åº</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    9 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 1402 ä¸ªå­—)
                </span>
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/08/29/å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾/">å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾</a>
            
        </h1>
        <div class="content">
            <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>é›·è¾¾å›¾ï¼ˆRadar Chartï¼‰ï¼Œåˆå¯ç§°ä¸ºæˆ´å¸ƒæ‹‰å›¾ã€èœ˜è››ç½‘å›¾ï¼ˆSpider Chartï¼‰ï¼Œæ˜¯è´¢åŠ¡åˆ†ææŠ¥è¡¨çš„ä¸€ç§ã€‚ä½¿ç”¨è€…èƒ½ä¸€ç›®äº†ç„¶çš„äº†è§£å„é¡¹æŒ‡æ ‡çš„å˜åŠ¨æƒ…å½¢åŠå…¶å¥½åè¶‹å‘ã€‚<br>æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨å¾®ä¿¡å°ç¨‹åºä¸­å®ç°é›·è¾¾å›¾ç»˜åˆ¶ã€‚<br><img src="https://upload-images.jianshu.io/upload_images/2641798-4cb2f61add473cd8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é›·è¾¾å›¾"></p>
<h2 id="ç»˜åˆ¶èƒŒæ™¯"><a href="#ç»˜åˆ¶èƒŒæ™¯" class="headerlink" title="ç»˜åˆ¶èƒŒæ™¯"></a>ç»˜åˆ¶èƒŒæ™¯</h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ç»˜åˆ¶å‡ºé›·è¾¾å›¾åé¢çš„â€œèœ˜è››ç½‘â€ã€‚å…·ä½“åŸç†å°±æ˜¯ä¸€å±‚ä¸€å±‚å°†å¤šè¾¹å½¢ç”»å‡ºæ¥ï¼Œæ ¹æ®æ•°æ®é•¿åº¦å†³å®šæ¯ä¸€ä¸ªç‚¹çš„ä½ç½®å’ŒåŠå¾„é•¿åº¦ã€‚</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">var angle = Math.PI * 2 / length;</span><br><span class="line">for (var layer = 5; layer &gt; 0; layer--) &#123;</span><br><span class="line">        context.beginPath();</span><br><span class="line">        context.setGlobalAlpha(1);</span><br><span class="line">        context.setStrokeStyle(&quot;#D3D3D3&quot;);</span><br><span class="line">        if (layer % 2 != 0) &#123;</span><br><span class="line">          context.setFillStyle(&quot;white&quot;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          context.setFillStyle(&quot;#F5F5F5&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        var currentRad = layer / 5 * radius;</span><br><span class="line">        context.moveTo(center.x, center.y - currentRad);</span><br><span class="line">        var currentAngle = -Math.PI / 2;</span><br><span class="line">        for (var i = 0; i &lt; length; i++) &#123;</span><br><span class="line">          context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));</span><br><span class="line">          currentAngle += angle;</span><br><span class="line">        &#125;</span><br><span class="line">        context.fill();</span><br><span class="line">        context.closePath();</span><br><span class="line">        context.stroke();</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä»£ç æ‰€ç¤ºï¼Œ<code>angle</code>æ˜¯æ ¹æ®æ•°æ®é•¿åº¦å†³å®šçš„ï¼Œè¿™é‡Œä¸ºäº†å¥½çœ‹ï¼Œä¸€å…±ç”»äº”å±‚ï¼Œå¹¶ä¸”äº¤æ›¿æ¶‚æŠ¹é¢œè‰²ã€‚ä¸‹å›¾æ˜¯<code>length=6</code>çš„æ•ˆæœï¼š<br><img src="https://upload-images.jianshu.io/upload_images/2641798-482cb08a73db4b5c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="èœ˜è››ç½‘"></p>
<h2 id="ç»˜åˆ¶è½´"><a href="#ç»˜åˆ¶è½´" class="headerlink" title="ç»˜åˆ¶è½´"></a>ç»˜åˆ¶è½´</h2><p>æ¥ä¸‹æ¥å°±æ˜¯å°†å„ä¸ªé¡¶ç‚¹ä¸åœ†å¿ƒè¿æ¥èµ·æ¥ã€‚æœ‰äº†â€œèœ˜è››ç½‘â€çš„ç»éªŒï¼Œç”»è½´å°±ç®€å•å¤šäº†ï¼Œåªéœ€è¦çŸ¥é“æœ€å¤–å±‚é¡¶ç‚¹ä½ç½®ç„¶å<code>lineTo</code>åœ†å¿ƒå°±è¡Œäº†ã€‚</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// draw Axis</span><br><span class="line">context.beginPath();</span><br><span class="line">var currentAngle = -Math.PI / 2;</span><br><span class="line">for (var i = 0; i &lt; length; i++) &#123;</span><br><span class="line">  context.moveTo(center.x + radius * Math.cos(currentAngle), center.y + radius * Math.sin(currentAngle));</span><br><span class="line">  context.lineTo(center.x, center.y);</span><br><span class="line">  currentAngle += angle;</span><br><span class="line">&#125;</span><br><span class="line">context.closePath();</span><br><span class="line">context.stroke();</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸‹æ˜¯åŠ ä¸Šè½´çº¿åçš„æ•ˆæœï¼š<br><img src="https://upload-images.jianshu.io/upload_images/2641798-fd3a8dd75cc634c6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•°è½´"></p>
<h2 id="ç»˜åˆ¶æŒ‡æ ‡"><a href="#ç»˜åˆ¶æŒ‡æ ‡" class="headerlink" title="ç»˜åˆ¶æŒ‡æ ‡"></a>ç»˜åˆ¶æŒ‡æ ‡</h2><p>æ¥ä¸‹æ¥æ˜¯å°†å„ä¸ªç»´åº¦æŒ‡æ ‡åå­—æ·»åŠ åˆ°å›¾è¡¨ä¸Šã€‚åŒæ•°è½´ä¸€æ ·ï¼Œé¦–å…ˆéœ€è¦ç¡®å®šæœ€å¤–å±‚é¡¶ç‚¹çš„ä½ç½®ï¼Œç„¶åæ ¹æ®ä½ç½®è°ƒæ•´æ–‡å­—æ˜¾ç¤ºçš„åŸºå‡†ï¼Œå°†æ–‡å­—å†™ä¸Šå»ã€‚</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// draw Index</span><br><span class="line">context.beginPath();</span><br><span class="line">context.setFillStyle(&quot;#D3D3D3&quot;);</span><br><span class="line">context.setFontSize(14);</span><br><span class="line">var currentAngle = -Math.PI / 2;</span><br><span class="line">for (var i = 0; i &lt; length; i++) &#123;</span><br><span class="line">  var posX = center.x + radius * Math.cos(currentAngle);</span><br><span class="line">  var posY = center.y + radius * Math.sin(currentAngle);</span><br><span class="line">  if (posX &lt; center.x) context.setTextAlign(&quot;right&quot;);</span><br><span class="line">  else context.setTextAlign(&quot;left&quot;);</span><br><span class="line">  if (posY &gt; center.y) context.setTextBaseline(&quot;top&quot;);</span><br><span class="line">  else context.setTextBaseline(&quot;bottom&quot;);</span><br><span class="line">  context.fillText(that.options.xLabel[i], posX, posY);</span><br><span class="line">  currentAngle += angle;</span><br><span class="line">&#125;</span><br><span class="line">context.closePath();</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä¸ºäº†å¥½çœ‹ï¼Œå¯¹äºæ–‡å­—è¦æ˜¾ç¤ºçš„ä½ç½®å°äºä¸­å¿ƒç‚¹ x åæ ‡çš„é å³å¯¹é½ï¼Œå¦åˆ™é å·¦å¯¹é½ï¼›å¯¹äºæ–‡å­—ä½ç½®å¤§äºä¸­å¿ƒç‚¹ y åæ ‡çš„åŸºå‡†è®¾ç½®åœ¨ä¸Šæ–¹ï¼Œå¦åˆ™åœ¨ä¸‹æ–¹ã€‚ä»¥ä¸‹æ˜¯åŠ ä¸ŠæŒ‡æ ‡åçš„æ•ˆæœï¼š<br><img src="https://upload-images.jianshu.io/upload_images/2641798-896f6d32eda04d07.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æŒ‡æ ‡"></p>
<h2 id="ç»˜åˆ¶æ•°æ®"><a href="#ç»˜åˆ¶æ•°æ®" class="headerlink" title="ç»˜åˆ¶æ•°æ®"></a>ç»˜åˆ¶æ•°æ®</h2><p>æœ€åï¼Œæˆ‘ä»¬å°†æ•°æ®ç»˜åˆ¶åˆ°å›¾è¡¨ä¸Šã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è¦ç¡®å®šæ‰€æœ‰æ•°æ®çš„æœ€å¤§å€¼ï¼Œå¦‚æœæœ€å¤§å€¼å¤§äº 10ï¼Œé‚£ä¹ˆå– 10 çš„å€æ•°ã€‚ç„¶ååŒç”»â€œèœ˜è››ç½‘â€ä¸€æ ·ï¼Œå°†å„ä¸ªæ•°æ®ç‚¹çš„åŠå¾„æ ¹æ®ç›¸å¯¹äºæœ€å¤§å€¼æ¯”ä¾‹æ¢ç®—å‡ºæ¥ï¼Œç„¶åç»˜åˆ¶åœ¨å›¾è¡¨ä¸Šã€‚</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">// draw data</span><br><span class="line">var MaxValue = Math.max.apply(null, that.options.data[0].value);</span><br><span class="line">that.options.data.forEach(function(val) &#123;</span><br><span class="line">  var temp = Math.max.apply(null, val.value);</span><br><span class="line">  if (temp &gt; MaxValue) MaxValue = temp;</span><br><span class="line">&#125;);</span><br><span class="line">if (MaxValue &gt; 10) &#123;</span><br><span class="line">  MaxValue = Math.ceil(MaxValue / 10) * 10</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">that.options.data.forEach(function(val) &#123;</span><br><span class="line">  context.beginPath();</span><br><span class="line">  context.setStrokeStyle(val.color);</span><br><span class="line">  var currentRad = radius * val.value[0] / MaxValue * step / MaxStep;</span><br><span class="line">  context.moveTo(center.x, center.y - currentRad);</span><br><span class="line">  var currentAngle = -Math.PI / 2;</span><br><span class="line">  for (var i = 0; i &lt; length; i++) &#123;</span><br><span class="line">    currentRad = radius * val.value[i] / MaxValue * step / MaxStep;</span><br><span class="line">    context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));</span><br><span class="line">    currentAngle += angle;</span><br><span class="line">  &#125;</span><br><span class="line">  currentRad = radius * val.value[0] / MaxValue * step / MaxStep;</span><br><span class="line">  context.lineTo(center.x, center.y - currentRad);</span><br><span class="line">  context.stroke();</span><br><span class="line">  if (that.options.area) &#123;</span><br><span class="line">    context.setFillStyle(val.color);</span><br><span class="line">    context.setGlobalAlpha(0.5);</span><br><span class="line">    context.fill();</span><br><span class="line">  &#125;</span><br><span class="line">  context.closePath();</span><br><span class="line">&#125;);</span><br><span class="line">context.draw();</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸‹å°±æ˜¯æ·»åŠ æ•°æ®åçš„å®Œæ•´æ•ˆæœï¼š<br><img src="https://upload-images.jianshu.io/upload_images/2641798-cb22523fbd815021.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•°æ®"></p>
<h2 id="æ·»åŠ ç»˜åˆ¶åŠ¨ç”»"><a href="#æ·»åŠ ç»˜åˆ¶åŠ¨ç”»" class="headerlink" title="æ·»åŠ ç»˜åˆ¶åŠ¨ç”»"></a>æ·»åŠ ç»˜åˆ¶åŠ¨ç”»</h2><p>ä¸ºäº†æ˜¾ç¤ºæ•ˆæœæ›´ä½³ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ç»˜åˆ¶å›¾è¡¨åŠ ä¸ŠåŠ¨ç”»ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">var angle = Math.PI * 2 / length;</span><br><span class="line"></span><br><span class="line">var step = 1;</span><br><span class="line">var MaxStep = that.options.animation ? 50 : 1;</span><br><span class="line">var animation = function() &#123;</span><br><span class="line">  if (step &lt;= MaxStep) &#123;</span><br><span class="line">    // draw background</span><br><span class="line">    for (var layer = 5; layer &gt; 0; layer--) &#123;</span><br><span class="line">      context.beginPath();</span><br><span class="line">      context.setGlobalAlpha(1);</span><br><span class="line">      context.setStrokeStyle(&quot;#D3D3D3&quot;);</span><br><span class="line">      if (layer % 2 != 0) &#123;</span><br><span class="line">        context.setFillStyle(&quot;white&quot;);</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        context.setFillStyle(&quot;#F5F5F5&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">      var currentRad = layer / 5 * radius;</span><br><span class="line">      context.moveTo(center.x, center.y - currentRad);</span><br><span class="line">      var currentAngle = -Math.PI / 2;</span><br><span class="line">      for (var i = 0; i &lt; length; i++) &#123;</span><br><span class="line">        context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));</span><br><span class="line">        currentAngle += angle;</span><br><span class="line">      &#125;</span><br><span class="line">      context.fill();</span><br><span class="line">      context.closePath();</span><br><span class="line">      context.stroke();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // draw Axis</span><br><span class="line">    context.beginPath();</span><br><span class="line">    var currentAngle = -Math.PI / 2;</span><br><span class="line">    for (var i = 0; i &lt; length; i++) &#123;</span><br><span class="line">      context.moveTo(center.x + radius * Math.cos(currentAngle), center.y + radius * Math.sin(currentAngle));</span><br><span class="line">      context.lineTo(center.x, center.y);</span><br><span class="line">      currentAngle += angle;</span><br><span class="line">    &#125;</span><br><span class="line">    context.closePath();</span><br><span class="line">    context.stroke();</span><br><span class="line"></span><br><span class="line">    // draw Index</span><br><span class="line">    context.beginPath();</span><br><span class="line">    context.setFillStyle(&quot;#D3D3D3&quot;);</span><br><span class="line">    context.setFontSize(14);</span><br><span class="line">    var currentAngle = -Math.PI / 2;</span><br><span class="line">    for (var i = 0; i &lt; length; i++) &#123;</span><br><span class="line">      var posX = center.x + radius * Math.cos(currentAngle);</span><br><span class="line">      var posY = center.y + radius * Math.sin(currentAngle);</span><br><span class="line">      if (posX &lt; center.x) context.setTextAlign(&quot;right&quot;);</span><br><span class="line">      else context.setTextAlign(&quot;left&quot;);</span><br><span class="line">      if (posY &gt; center.y) context.setTextBaseline(&quot;top&quot;);</span><br><span class="line">      else context.setTextBaseline(&quot;bottom&quot;);</span><br><span class="line">      context.fillText(that.options.xLabel[i], posX, posY);</span><br><span class="line">      currentAngle += angle;</span><br><span class="line">    &#125;</span><br><span class="line">    context.closePath();</span><br><span class="line"></span><br><span class="line">    // draw data</span><br><span class="line">    var MaxValue = Math.max.apply(null, that.options.data[0].value);</span><br><span class="line">    that.options.data.forEach(function(val) &#123;</span><br><span class="line">      var temp = Math.max.apply(null, val.value);</span><br><span class="line">      if (temp &gt; MaxValue) MaxValue = temp;</span><br><span class="line">    &#125;);</span><br><span class="line">    if (MaxValue &gt; 10) &#123;</span><br><span class="line">      MaxValue = Math.ceil(MaxValue / 10) * 10</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    that.options.data.forEach(function(val) &#123;</span><br><span class="line">      context.beginPath();</span><br><span class="line">      context.setStrokeStyle(val.color);</span><br><span class="line">      var currentRad = radius * val.value[0] / MaxValue * step / MaxStep;</span><br><span class="line">      context.moveTo(center.x, center.y - currentRad);</span><br><span class="line">      var currentAngle = -Math.PI / 2;</span><br><span class="line">      for (var i = 0; i &lt; length; i++) &#123;</span><br><span class="line">        currentRad = radius * val.value[i] / MaxValue * step / MaxStep;</span><br><span class="line">        context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));</span><br><span class="line">        currentAngle += angle;</span><br><span class="line">      &#125;</span><br><span class="line">      currentRad = radius * val.value[0] / MaxValue * step / MaxStep;</span><br><span class="line">      context.lineTo(center.x, center.y - currentRad);</span><br><span class="line">      context.stroke();</span><br><span class="line">      if (that.options.area) &#123;</span><br><span class="line">        context.setFillStyle(val.color);</span><br><span class="line">        context.setGlobalAlpha(0.5);</span><br><span class="line">        context.fill();</span><br><span class="line">      &#125;</span><br><span class="line">      context.closePath();</span><br><span class="line">    &#125;);</span><br><span class="line">    context.draw();</span><br><span class="line">    step++;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    clearInterval(aniName);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">var aniName = setInterval(animation, 10);</span><br></pre></td></tr></table></figure>
<p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/2641798-d476058258f845d5.gif?imageMogr2/auto-orient/strip" alt="åŠ¨ç”»æ•ˆæœ"></p>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>ğŸ˜Š ä»¥ä¸Šå°±æ˜¯åœ¨å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾çš„æ–¹æ³•ã€‚å¦‚æœ‰å…´è¶£äº†è§£æ›´å¤šï¼Œå¯ä»¥æŸ¥çœ‹å®Œæ•´ä»£ç ï¼š<a href="https://github.com/chmini-app/CHCharts-wechat" target="_blank" rel="noopener">https://github.com/chmini-app/CHCharts-wechat</a>ã€‚</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-06-20T16:02:21.000Z">2018-06-21</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/ç”Ÿæ´»/">ç”Ÿæ´»</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/ç”Ÿæ´»/å°ç†ŠçŒ«/">å°ç†ŠçŒ«</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    å‡ ç§’ è¯»å®Œ (å¤§çº¦ 0 ä¸ªå­—)
                </span>
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/06/21/å°ç†ŠçŒ«æ¥åˆ°ä¸–ç•Œ/">å°ç†ŠçŒ«æ¥åˆ°ä¸–ç•Œ</a>
            
        </h1>
        <div class="content">
            
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-04-28T02:42:21.000Z">2017-04-28</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/å·¥ä½œ/">å·¥ä½œ</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/å·¥ä½œ/iOS/">iOS</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    12 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 1749 ä¸ªå­—)
                </span>
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/04/28/iOSå®ç°ç±»Prismaè½¯ä»¶/">iOSå®ç°ç±»Prismaè½¯ä»¶</a>
            
        </h1>
        <div class="content">
            <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><hr>
<p>Prisma åœ¨ 2016 ä¸Šçº¿åå°±å¤§ç«ï¼Œè¯¥ APP æ˜¯åˆ©ç”¨<a href="https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C" target="_blank" rel="noopener">ç¥ç»ç½‘ç»œ</a>å’Œ<a href="https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD" target="_blank" rel="noopener">äººå·¥æ™ºèƒ½</a>æŠ€æœ¯ï¼Œä¸ºæ™®é€šç…§ç‰‡åŠ å…¥è‰ºæœ¯æ•ˆæœçš„ç…§ç‰‡ç¼–è¾‘è½¯ä»¶ã€‚</p>
<p>åŒå¹´ Google ä¹Ÿå‘å¸ƒäº†ä¸€ç¯‡ã€ŠA LEARNED REPRESENTATION FOR ARTISTIC STYLEã€‹è®ºæ–‡ï¼Œå®ç°äº†å‰å‘è¿ç®—ä¸€æ¬¡ä¸ºç…§ç‰‡æ•´åˆå¤šç§è‰ºæœ¯é£æ ¼çš„åŠŸèƒ½ï¼Œå¹¶ä¸”ä¼˜åŒ–äº†å†…å­˜ä½¿ç”¨å’Œè¿ç®—é€Ÿåº¦ï¼Œå¯ä»¥åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå¿«é€Ÿè¿ç®—ã€‚</p>
<p>æœ€è¿‘åœ¨ç ”ç©¶ Tensorflow æ•´åˆ iOS è¿‡ç¨‹ä¸­ï¼Œå‘ç° google å…¬å¼€äº†è®ºæ–‡å®ç°çš„æºç å’Œè®­ç»ƒæ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå·±å†™ä¸€ä¸ªå‰å‘è¿ç®—å›¾ï¼Œæ•´åˆå…¶è®­ç»ƒå‚æ•°å°±å¯ä»¥å¿«é€Ÿå®ç°ç±» Prisma çš„åº”ç”¨ã€‚</p>
<p>ä¸‹é¢å°±ä»‹ç»ä¸€ä¸‹å¦‚ä½•åœ¨ iPhone ä¸Šè·‘ä¸€ä¸ªè‡ªå·±çš„<strong>â€œPrismaâ€</strong>ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2641798-ab4749c205d9f6f8.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ‹›è´¢å’Œå’•å™œ"></p>
<h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><hr>
<ol>
<li>å®‰è£…<a href="https://www.tensorflow.org/versions/r0.12/get_started/os_setup.html#download-and-setup" target="_blank" rel="noopener">Tensorflow</a>ï¼Œè¿™ä¸ªå®˜ç½‘ä¸Šæœ‰è¯¦ç»†æ•™ç¨‹è¿™é‡Œå°±ä¸å¤šè¯´äº†ã€‚</li>
<li>æ­å»º<a href="https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/ios_examples/" target="_blank" rel="noopener">iOS+Tensorflow</a>å·¥ç¨‹ï¼Œè¿™ä¸ªå¯ä»¥æ ¹æ® Git ä¸Šçš„æ­¥éª¤å®ç°ï¼Œä¹Ÿå¯ä»¥å‚è€ƒå®˜æ–¹çš„ Demo ç¨‹åºé…ç½®ã€‚ï¼ˆè¿™ä¸ªè¿‡ç¨‹æœ‰å¾ˆå¤šå‘ï¼Œå¤šæ¬¡å°è¯•ï¼Œåº”è¯¥å¯ä»¥é…ç½®æˆåŠŸï¼‰</li>
<li>ä¸‹è½½æ¨¡å‹ï¼Œæœ¬æ¬¡ä½¿ç”¨çš„æ¨¡å‹æ˜¯<a href="https://github.com/tensorflow/magenta/tree/master/magenta/models/image_stylization" target="_blank" rel="noopener">image_stylization</a>ï¼Œgoogle å·²å¼€æºåœ¨ GitHub ä¸Šã€‚</li>
<li>ä¸‹è½½è®­ç»ƒå¥½çš„å‚æ•°ï¼ŒGoogle æä¾›äº† 2 ä¸ªï¼š<br><a href="http://download.magenta.tensorflow.org/models/multistyle-pastiche-generator-monet.ckpt" target="_blank" rel="noopener">Monet</a><br><a href="http://download.magenta.tensorflow.org/models/multistyle-pastiche-generator-varied.ckpt" target="_blank" rel="noopener">Varied</a><br>Monet è®­ç»ƒäº† 10 ç§è‰ºæœ¯å›¾ç‰‡ï¼ŒVaried è®­ç»ƒäº† 32 ç§ã€‚<br>å½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå·±è®­ç»ƒè‰ºæœ¯å›¾ç‰‡ï¼Œä½†æ˜¯å¾—ä¸‹è½½ VGG çš„è®­ç»ƒå‚æ•°å’Œ ImageNet æ•°æ®ï¼Œç„¶åè‡ªå·±è®­ç»ƒï¼Œæ¯”è¾ƒèŠ±æ—¶é—´ã€‚</li>
</ol>
<h2 id="æ„å»ºè®¡ç®—å›¾"><a href="#æ„å»ºè®¡ç®—å›¾" class="headerlink" title="æ„å»ºè®¡ç®—å›¾"></a>æ„å»ºè®¡ç®—å›¾</h2><hr>
<p>è™½ç„¶ Google æä¾›äº†æ¨¡å‹çš„æºç ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰åœ¨æºç ä¸­è¾“å‡ºè¿ç®—å›¾å·²æ–¹ä¾¿è¿ç§»åˆ°ç§»åŠ¨è®¾å¤‡ä¸­ä½¿ç”¨ï¼ŒAndroid çš„ Demo ä¸­å€’æ˜¯æä¾›äº†ç”Ÿæˆçš„ pbï¼Œå¦‚ä½•è§‰å¾—è‡ªå·±å†™è®¡ç®—å›¾éº»çƒ¦å¯ä»¥ç›´æ¥æ‹·åˆ°è‡ªå·± iOS å·¥ç¨‹ä¸­ä½¿ç”¨ã€‚</p>
<p>æˆ‘è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ª python çš„å·¥ç¨‹ï¼Œç„¶åæŠŠ Google æºç ä¸­ model.py ç›¸å…³çš„æ–‡ä»¶éƒ½åŠ å…¥äº†å·¥ç¨‹ã€‚<br>æˆ‘çš„å»ºå›¾ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import tensorflow as tf</span><br><span class="line">import ast</span><br><span class="line">import os</span><br><span class="line">from tensorflow.python import pywrap_tensorflow</span><br><span class="line"></span><br><span class="line">from matplotlib import pyplot</span><br><span class="line">from matplotlib.pyplot import imshow</span><br><span class="line"></span><br><span class="line">import image_utils</span><br><span class="line">import model</span><br><span class="line">import ops</span><br><span class="line">import argparse</span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">num_styles = 32</span><br><span class="line">imgWidth = 512</span><br><span class="line">imgHeight = 512</span><br><span class="line">channel = 3</span><br><span class="line">checkpoint = &quot;/Users/Jiao/Desktop/TFProject/style-image/checkpoint/multistyle-pastiche-generator-varied.ckpt&quot;</span><br><span class="line"></span><br><span class="line">inputImage = tf.placeholder(tf.float32,shape=[None,imgWidth,imgHeight,channel],name=&quot;input&quot;)</span><br><span class="line">styles = tf.placeholder(tf.float32,shape=[num_styles],name=&quot;style&quot;)</span><br><span class="line"></span><br><span class="line">with tf.name_scope(&quot;&quot;):</span><br><span class="line">    transform = model.transform(inputImage,</span><br><span class="line">                            normalizer_fn=ops.weighted_instance_norm,</span><br><span class="line">                            normalizer_params=&#123;</span><br><span class="line">                                # &apos;weights&apos;: tf.constant(mixture),</span><br><span class="line">                                &apos;weights&apos; : styles,</span><br><span class="line">                                &apos;num_categories&apos;: num_styles,</span><br><span class="line">                                &apos;center&apos;: True,</span><br><span class="line">                                &apos;scale&apos;: True&#125;)</span><br><span class="line"></span><br><span class="line">model_saver = tf.train.Saver(tf.global_variables())</span><br><span class="line"></span><br><span class="line">with tf.Session() as sess:</span><br><span class="line">    tf.train.write_graph(sess.graph_def, &quot;/Users/Jiao/Desktop/TFProject/style-image/protobuf&quot;, &quot;input.pb&quot;)</span><br><span class="line">    #checkpoint = os.path.expanduser(checkpoint)</span><br><span class="line">    #if tf.gfile.IsDirectory(checkpoint):</span><br><span class="line">    #    checkpoint = tf.train.latest_checkpoint(checkpoint)</span><br><span class="line">    #    tf.logging.info(&apos;loading latest checkpoint file: &#123;&#125;&apos;.format(checkpoint))</span><br><span class="line">    #model_saver.restore(sess, checkpoint)</span><br><span class="line"></span><br><span class="line">    #newstyle = np.zeros([num_styles], dtype=np.float32)</span><br><span class="line">    #newstyle[18] = 0.5</span><br><span class="line">    #newstyle[17] = 0.5</span><br><span class="line">    #newImage = np.zeros((1,imgWidth,imgHeight,channel))</span><br><span class="line">    #style_image = transform.eval(feed_dict=&#123;inputImage:newImage,styles:newstyle&#125;)</span><br><span class="line">    #style_image = style_image[0]</span><br><span class="line">    #imshow(style_image)</span><br><span class="line">    #pyplot.show()</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œè¾“å…¥èŠ‚ç‚¹æ˜¯<code>input</code>å’Œ<code>style</code>ï¼Œè¾“å‡ºèŠ‚ç‚¹æ˜¯ model ä¸­çš„<code>transformer/expand/conv3/conv/Sigmoid</code>ã€‚</p>
<p>åˆ°æ­¤å°±å°†æ¨¡å‹çš„è®¡ç®—å›¾ä¿å­˜åˆ°äº†æœ¬åœ°æ–‡ä»¶å¤¹ä¸­ã€‚<br>æ¥ä¸‹æ¥å°±æ˜¯å°†å›¾å’Œ ckpt ä¸­çš„å‚æ•°åˆå¹¶ï¼Œå¹¶ä¸”ç”Ÿæˆç§»åŠ¨ç«¯çš„å¯ä»¥ä½¿ç”¨çš„ pb æ–‡ä»¶ï¼Œè¿™ä¸€æ­¥å¯ä»¥å‚è€ƒæˆ‘ä¸Šä¸€ç¯‡æ–‡ç« <a href="http://www.jianshu.com/p/f096fe2212ce" target="_blank" rel="noopener">ã€ŠiOS+Tensorflow å®ç°å›¾åƒè¯†åˆ«ã€‹</a>ï¼Œå¾ˆå®¹æ˜“å°±å®ç°ã€‚</p>
<h2 id="iOS-å·¥ç¨‹"><a href="#iOS-å·¥ç¨‹" class="headerlink" title="iOS å·¥ç¨‹"></a>iOS å·¥ç¨‹</h2><hr>
<p>åœ¨ä¸Šé¢å‡†å¤‡å·¥ä½œä¸­ï¼Œå¦‚æœä½ å·²ç»æŒ‰æ­¥éª¤æ­å»ºå¥½ iOS+TF çš„å·¥ç¨‹ï¼Œè¿™é‡Œä½ åªéœ€è¦å¯¼å…¥ç”Ÿæˆçš„æœ€ç»ˆ pb æ–‡ä»¶å°±è¡Œäº†ã€‚å·¥ç¨‹ç»“æ„å¦‚å›¾ï¼š</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2641798-ca34abd1c875504c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="XCodeå·¥ç¨‹"></p>
<p>ç„¶ååœ¨ iOS ä½¿ç”¨ pb æ–‡ä»¶ï¼Œæˆ‘è¿™é‡Œç›´æ¥å¯¼å…¥äº† Google æä¾›çš„<code>tensorflow_utils</code>ï¼Œä½¿ç”¨è¿™ä¸ªç±»é‡Œé¢çš„ LoadModel æ–¹æ³•å¯ä»¥å¾ˆå¿«çš„ç”Ÿæˆå«æœ‰è®¡ç®—å›¾çš„ sessionã€‚</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">    tensorflow::Status load_status;</span><br><span class="line">    load_status = LoadModel(@&quot;rounded_graph&quot;, @&quot;pb&quot;, &amp;tf_session);</span><br><span class="line">    if (!load_status.ok()) &#123;</span><br><span class="line">        LOG(FATAL) &lt;&lt; &quot;Couldn&apos;t load model: &quot; &lt;&lt; load_status;</span><br><span class="line">    &#125;</span><br><span class="line">    currentStyle = 0;</span><br><span class="line">    isDone = true;</span><br><span class="line">    _styleImageView.layer.borderColor = [UIColor grayColor].CGColor;</span><br><span class="line">    _styleImageView.layer.borderWidth = 0.5;</span><br><span class="line">    _ogImageView.layer.borderColor = [UIColor grayColor].CGColor;</span><br><span class="line">    _ogImageView.layer.borderWidth = 0.5;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ€åå°±æ˜¯è·å–å›¾ç‰‡ï¼Œæ‰§è¡Œè¿ç®—ï¼Œç”Ÿæˆè‰ºæœ¯å›¾ç‰‡å±•ç¤ºã€‚è¿™é‡Œå›¾ç‰‡éœ€è¦è½¬æ¢æˆ bitmap ç„¶åè·å– data å€¼ï¼Œå±•ç¤ºå›¾ç‰‡ä¹Ÿæ˜¯ç›¸è¯†çš„è¿‡ç¨‹ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line">- (void)runCnn:(UIImage *)compressedImg</span><br><span class="line">&#123;</span><br><span class="line">    unsigned char *pixels = [self getImagePixel:compressedImg];</span><br><span class="line">    int image_channels = 4;</span><br><span class="line">    tensorflow::Tensor image_tensor(</span><br><span class="line">                                    tensorflow::DT_FLOAT,</span><br><span class="line">                                    tensorflow::TensorShape(</span><br><span class="line">                                                            &#123;1, wanted_input_height, wanted_input_width, wanted_input_channels&#125;));</span><br><span class="line">    auto image_tensor_mapped = image_tensor.tensor&lt;float, 4&gt;();</span><br><span class="line">    tensorflow::uint8 *in = pixels;</span><br><span class="line">    float *out = image_tensor_mapped.data();</span><br><span class="line">    for (int y = 0; y &lt; wanted_input_height; ++y) &#123;</span><br><span class="line">        float *out_row = out + (y * wanted_input_width * wanted_input_channels);</span><br><span class="line">        for (int x = 0; x &lt; wanted_input_width; ++x) &#123;</span><br><span class="line">            tensorflow::uint8 *in_pixel =</span><br><span class="line">            in + (x * wanted_input_width * image_channels) + (y * image_channels);</span><br><span class="line">            float *out_pixel = out_row + (x * wanted_input_channels);</span><br><span class="line">            for (int c = 0; c &lt; wanted_input_channels; ++c) &#123;</span><br><span class="line">                out_pixel[c] = in_pixel[c];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    tensorflow::Tensor style(tensorflow::DT_FLOAT, tensorflow::TensorShape(&#123;32&#125;));</span><br><span class="line">    float *style_data = style.tensor&lt;float, 1&gt;().data();</span><br><span class="line">    memset(style_data, 0, sizeof(float) * 32);</span><br><span class="line">    style_data[currentStyle] = 1;</span><br><span class="line"></span><br><span class="line">    if (tf_session.get()) &#123;</span><br><span class="line">        std::vector&lt;tensorflow::Tensor&gt; outputs;</span><br><span class="line">        tensorflow::Status run_status = tf_session-&gt;Run(</span><br><span class="line">                                                        &#123;&#123;contentNode, image_tensor&#125;,</span><br><span class="line">                                                            &#123;styleNode, style&#125;&#125;,</span><br><span class="line">                                                        &#123;outputNode&#125;,</span><br><span class="line">                                                        &#123;&#125;,</span><br><span class="line">                                                        &amp;outputs);</span><br><span class="line">        if (!run_status.ok()) &#123;</span><br><span class="line">            LOG(ERROR) &lt;&lt; &quot;Running model failed:&quot; &lt;&lt; run_status;</span><br><span class="line">            isDone = true;</span><br><span class="line">            free(pixels);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            float *styledData = outputs[0].tensor&lt;float,4&gt;().data();</span><br><span class="line">            UIImage *styledImg = [self createImage:styledData];</span><br><span class="line">            dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                _styleImageView.image = styledImg;</span><br><span class="line">                dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.3 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class="line">                    isDone = true;</span><br><span class="line">                    free(pixels);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (unsigned char *)getImagePixel:(UIImage *)image</span><br><span class="line">&#123;</span><br><span class="line">    int width = image.size.width;</span><br><span class="line">    int height = image.size.height;</span><br><span class="line">    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();</span><br><span class="line">    unsigned char *rawData = (unsigned char*) calloc(height * width * 4, sizeof(unsigned char));</span><br><span class="line">    NSUInteger bytesPerPixel = 4;</span><br><span class="line">    NSUInteger bytesPerRow = bytesPerPixel * width;</span><br><span class="line">    NSUInteger bitsPerComponent = 8;</span><br><span class="line">    CGContextRef context = CGBitmapContextCreate(rawData, width, height,</span><br><span class="line"></span><br><span class="line">                                                 bitsPerComponent, bytesPerRow, colorSpace,</span><br><span class="line"></span><br><span class="line">                                                 kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);</span><br><span class="line"></span><br><span class="line">    CGColorSpaceRelease(colorSpace);</span><br><span class="line">    CGContextDrawImage(context, CGRectMake(0, 0, width, height), image.CGImage);</span><br><span class="line">    UIImage *ogImg = [UIImage imageWithCGImage:CGBitmapContextCreateImage(context)];</span><br><span class="line">    dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class="line">        _ogImageView.image = ogImg;</span><br><span class="line">    &#125;);</span><br><span class="line">    CGContextRelease(context);</span><br><span class="line">    return rawData;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (UIImage *)createImage:(float *)pixels</span><br><span class="line">&#123;</span><br><span class="line">    unsigned char *rawData = (unsigned char*) calloc(wanted_input_height * wanted_input_width * 4, sizeof(unsigned char));</span><br><span class="line">    for (int y = 0; y &lt; wanted_input_height; ++y) &#123;</span><br><span class="line">        unsigned char *out_row = rawData + (y * wanted_input_width * 4);</span><br><span class="line">        for (int x = 0; x &lt; wanted_input_width; ++x) &#123;</span><br><span class="line">            float *in_pixel =</span><br><span class="line">            pixels + (x * wanted_input_width * 3) + (y * 3);</span><br><span class="line">            unsigned char *out_pixel = out_row + (x * 4);</span><br><span class="line">            for (int c = 0; c &lt; wanted_input_channels; ++c) &#123;</span><br><span class="line">                out_pixel[c] = in_pixel[c] * 255;</span><br><span class="line">            &#125;</span><br><span class="line">            out_pixel[3] = UINT8_MAX;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();</span><br><span class="line">    NSUInteger bytesPerPixel = 4;</span><br><span class="line">    NSUInteger bytesPerRow = bytesPerPixel * wanted_input_width;</span><br><span class="line">    NSUInteger bitsPerComponent = 8;</span><br><span class="line">    CGContextRef context = CGBitmapContextCreate(rawData, wanted_input_width, wanted_input_height,</span><br><span class="line"></span><br><span class="line">                                                 bitsPerComponent, bytesPerRow, colorSpace,</span><br><span class="line"></span><br><span class="line">                                                 kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);</span><br><span class="line"></span><br><span class="line">    CGColorSpaceRelease(colorSpace);</span><br><span class="line">    UIImage *retImg = [UIImage imageWithCGImage:CGBitmapContextCreateImage(context)];</span><br><span class="line">    CGContextRelease(context);</span><br><span class="line">    free(rawData);</span><br><span class="line">    return retImg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><em>è¿™é‡Œè¯´æ˜ä¸€ä¸‹ï¼Œå‰é¢ python å·¥ç¨‹å·²ç»å®šä¹‰äº†ï¼Œæˆ‘çš„è¾“å…¥å’Œè¾“å‡ºå›¾ç‰‡çš„å¤§å°æ˜¯ 512âœ•512ã€‚</em></p>
<h2 id="è¿æ¥-iPhoneï¼Œè¿è¡Œå·¥ç¨‹"><a href="#è¿æ¥-iPhoneï¼Œè¿è¡Œå·¥ç¨‹" class="headerlink" title="è¿æ¥ iPhoneï¼Œè¿è¡Œå·¥ç¨‹^_^"></a>è¿æ¥ iPhoneï¼Œè¿è¡Œå·¥ç¨‹^_^</h2><hr>
<p>æœ€åè¿ä¸Šæ‰‹æœºè¿è¡Œï¼Œå°±å¯ä»¥è‡ªå·±åˆ›å»ºè‡ªå·±çš„è‰ºæœ¯ç±»å›¾ç‰‡äº†ã€‚ğŸ˜Š</p>
<p>æ”¾å‡ å¼ è¿è¡Œæ•ˆæœå›¾ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/2641798-d105c1089f62c634.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æˆªå›¾1"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/2641798-6b722e433ca66c5b.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æˆªå›¾2"></p>
<p><img src="http://upload-images.jianshu.io/upload_images/2641798-1b5acd6620b5b447.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æˆªå›¾3"></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2016-08-22T02:58:02.000Z">2016-08-22</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/å·¥ä½œ/">å·¥ä½œ</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/å·¥ä½œ/iOS/">iOS</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    19 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 2837 ä¸ªå­—)
                </span>
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2016/08/22/å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶/">å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶</a>
            
        </h1>
        <div class="content">
            <p>åœ¨ OC ç¼–ç¨‹ä¸­ï¼Œå¸¸å¸¸ä¼šç”¨åˆ°å¯¹å¯¹è±¡çš„å¤åˆ¶ï¼Œç„¶åæ“ä½œå‰¯æœ¬å¯¹è±¡ã€‚ç„¶è€Œå¯¹ä¸åº”è¯¥é€‰æ‹©ä½•ç§å¯¹è±¡å¤åˆ¶çš„æ–¹å¼ï¼Œå¤åˆ¶åå‰¯æœ¬å¯¹è±¡æ“ä½œä¼šä¸ä¼šå½±å“åŸå§‹å¯¹è±¡ç­‰é—®é¢˜ï¼Œæˆ‘ä»¬å¾€å¾€æ²¡æœ‰è¿‡å¤šè€ƒè™‘ï¼Œè€Œæ˜¯å‡­å€Ÿç»éªŒåœ¨ç¼–ç ã€‚æ¥ä¸‹æ¥å°±å¯¹ OC ä¸­å¯¹è±¡å¤åˆ¶æœºåˆ¶è¿›è¡Œå‰–æï¼Œé€šè¿‡å¯¹å¤åˆ¶æœºåˆ¶çš„ç ”ç©¶å¯ä»¥åœ¨ç¼–ç ä¸­å¯¹å¯¹è±¡çš„å¤åˆ¶æ›´åŠ æ¸¸åˆƒæœ‰ä½™ã€‚</p>
<p>é¦–å…ˆï¼Œåœ¨ OC ä¸­å¤åˆ¶åˆ†ä¸ºæ·±å¤åˆ¶ä¸æµ…å¤åˆ¶ï¼Œä¸€ä¸ªæ¯”è¾ƒè®¤å¯çš„å®šä¹‰æ˜¯ï¼š</p>
<blockquote>
<p><strong>æ·±å¤åˆ¶ï¼š</strong>å¤åˆ¶å¯¹è±¡å¼•ç”¨ä¸å¯¹è±¡æœ¬èº«ã€‚<br><strong>æµ…å¤åˆ¶ï¼š</strong>åªå¤åˆ¶å¯¹è±¡å¼•ç”¨ã€‚</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/2641798-03dca550cc87313d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<hr>
<p><strong>é‚£ä¹ˆå“ªäº›æ“ä½œæ‰æ˜¯æµ…å¤åˆ¶ï¼Œå“ªäº›æ“ä½œæ˜¯æ·±å¤åˆ¶ï¼Ÿ</strong></p>
<p>æ‰€æœ‰çš„å¯¹è±¡é—´èµ‹å€¼æ“ä½œéƒ½æ˜¯<strong>æµ…å¤åˆ¶</strong>ï¼Œä»…ä»…å¤åˆ¶äº†å¼•ç”¨ã€‚å¦‚ CopyStr = Str1ï¼Œè¿™é‡Œ CopyStr å’Œ Str1 æŒ‡å‘çš„åŒä¸€å†…å­˜åœ°å€ï¼Œæ”¹å˜ä¸¤è€…ä¹‹é—´ä»»ä½•ä¸€ä¸ªå€¼ï¼Œå¦ä¸€ä¸ªéƒ½ä¼šéšä¹‹æ”¹å˜ã€‚</p>
<p>è¯•ä¾‹ä»£ç ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">void assignTest()</span><br><span class="line">&#123;</span><br><span class="line">Â  Â  printf(&quot;-----Assign Test-----\n\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  NSString *str1 = @&quot;Hello&quot;;</span><br><span class="line">Â  Â  NSString *str2 = str1;</span><br><span class="line">Â  Â  printf(&quot;orignalStr : %s\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;copyStr : %s\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;orignalStr value address: %p\n&quot;,str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr value address: %p\n&quot;,str2);</span><br><span class="line">Â  Â  printf(&quot;orignalStr pointer address: %p\n&quot;,&amp;str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr pointer address: %p\n&quot;,&amp;str2);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  NSMutableString *str3 = [NSMutableString stringWithString:@&quot;Hello&quot;];</span><br><span class="line">Â  Â  NSMutableString *str4 = str3;</span><br><span class="line">Â  Â  [str3 appendString:@&quot; World&quot;];</span><br><span class="line">Â  Â  [str4 appendString:@&quot;!&quot;];</span><br><span class="line">Â  Â  printf(&quot;orignalStr : %s\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;copyStr : %s\n&quot;,[str4 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;orignalStr value address: %p\n&quot;,str3);</span><br><span class="line">Â  Â  printf(&quot;copyStr value address: %p\n&quot;,str4);</span><br><span class="line">Â  Â  printf(&quot;orignalStr pointer address: %p\n&quot;,&amp;str3);</span><br><span class="line">Â  Â  printf(&quot;copyStr pointer address: %p\n&quot;,&amp;str4);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:@&quot;Hello&quot;, nil];</span><br><span class="line">Â  Â  NSMutableArray *arr2 = arr1;</span><br><span class="line">Â  Â  [arr1 addObject:@&quot;World&quot;];</span><br><span class="line">Â  Â  [arr2 addObject:@&quot;!&quot;];</span><br><span class="line">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class="line">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class="line">Â  Â  printf(&quot;orignalArray value address: %p\n&quot;,arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray value address: %p\n&quot;,arr2);</span><br><span class="line">Â  Â  printf(&quot;orignalArray pointer address: %p\n&quot;,&amp;arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray pointer address: %p\n&quot;,&amp;arr2);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœï¼š</p>
<blockquote>
<p><strong>â€”â€“Assign Testâ€”â€“</strong></p>
</blockquote>
<hr>
<p><strong>orignalStr : Hello</strong><br><strong>copyStr : Hello</strong><br><strong>orignalStr value address: 0x100002060</strong><br><strong>copyStr value address: 0x100002060</strong><br><strong>orignalStr pointer address: 0x7fff5fbff7a8</strong><br><strong>copyStr pointer address: 0x7fff5fbff7a0</strong></p>
<hr>
<p><strong>orignalStr : Hello World!</strong><br><strong>copyStr : Hello World!</strong><br><strong>orignalStr value address: 0x1002005c0</strong><br><strong>copyStr value address: 0x1002005c0</strong><br><strong>orignalStr pointer address: 0x7fff5fbff798</strong><br><strong>copyStr pointer address: 0x7fff5fbff790</strong></p>
<hr>
<p><strong>2016-08-22 11:35:20.312 CopyDemo[2046:72936] orignalArray : (</strong><br><strong>    Hello,</strong><br><strong>    World,</strong><br><strong>    â€œ!â€</strong><br><strong>)</strong><br><strong>2016-08-22 11:35:20.313 CopyDemo[2046:72936] copyArray : (</strong><br><strong>    Hello,</strong><br><strong>    World,</strong><br><strong>    â€œ!â€</strong><br><strong>)</strong><br><strong>orignalArray value address: 0x100406910</strong><br><strong>copyArray value address: 0x100406910</strong><br><strong>orignalArray pointer address: 0x7fff5fbff788</strong><br><strong>copyArray pointer address: 0x7fff5fbff780</strong></p>
<hr>
<p>é€šè¿‡ä¸Šé¢ç»“æœæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œvalue çš„åœ°å€éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè€Œ pointer çš„åœ°å€æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™å°±è¯´æ˜äº†èµ‹å€¼æ“ä½œæ˜¯æµ…å¤åˆ¶ï¼Œåªæ˜¯ç”Ÿæˆä¸¤ä»½å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œå¯¹è±¡æœ¬èº«è¿˜æ˜¯åŒä¸€ä»½ã€‚åŸå¯¹è±¡å€¼å’Œå‰¯æœ¬å¯¹è±¡çš„å€¼æ“ä½œæ˜¯ç›¸äº’å½±å“çš„ã€‚</p>
<hr>
<p><strong>é‚£ä¹ˆ OC ä¸­å¦‚ä½•å®ç°æ·±å¤åˆ¶å‘¢ï¼Ÿ </strong></p>
<p>OC ä¸­æ·±å¤åˆ¶æ˜¯é€šè¿‡ copy ä¸ mutableCopy æ–¹æ³•å®ç°ï¼ˆä½†ä¸æ˜¯éƒ½èƒ½è¾¾åˆ°æ·±å¤åˆ¶çš„ç›®çš„ï¼‰ï¼Œé€šè¿‡ copy å¤åˆ¶åçš„å‰¯æœ¬éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œé€šè¿‡ mutableCopy å¤åˆ¶åçš„å‰¯æœ¬éƒ½æ˜¯å¯å˜çš„ã€‚å¦‚åˆå§‹å¯¹è±¡ä¸º NSString ä¸ NSMutableStringï¼Œé€šè¿‡ copy åå‰¯æœ¬éƒ½æ˜¯ NSStringï¼Œè€Œé€šè¿‡ mutableCopy åéƒ½æ˜¯ NSMutableStringã€‚<br>æ¥ä¸‹æ¥åˆ†ä¸¤ç§æƒ…å†µè®¨è®º copy ä¸ mutableCopyï¼š</p>
<p><strong>åˆå§‹å¯¹è±¡ä¸å¯å˜ï¼ˆå¦‚ NSStringã€NSArray ç­‰ï¼‰</strong></p>
<p>è°ƒç”¨ copy æ–¹æ³•ä¹Ÿæ˜¯<strong>æµ…å¤åˆ¶</strong>ï¼Œç­‰åŒäºç›´æ¥èµ‹å€¼ï¼Œå› ä¸ºå¤åˆ¶è¿‡åçš„å‰¯æœ¬å’ŒåŸæ¥çš„å¯¹è±¡éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥è°ƒç”¨ copy æœ¬è´¨å°±æ˜¯èµ‹å€¼æ“ä½œï¼Œå¤åˆ¶äº†å¼•ç”¨ï¼Œä½†æ˜¯éƒ½æŒ‡å‘åŒä¸€å†…å­˜åœ°å€ã€‚<br>è°ƒç”¨ mutableCopy æ˜¯<strong>æ·±å¤åˆ¶</strong>ï¼Œå‰¯æœ¬æˆä¸ºäº†å¯å˜å¯¹è±¡ï¼Œä½†æ˜¯æ“ä½œå‰¯æœ¬ï¼Œå¯¹åˆå§‹å¯¹è±¡çš„å€¼ä¸ä¼šäº§ç”Ÿå½±å“ã€‚</p>
<p>è¯•ä¾‹ä»£ç ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">void constCopyTest()</span><br><span class="line">&#123;</span><br><span class="line">Â  Â  printf(&quot;-----ConstCopy Test-----\n\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  printf(&quot;-NSString Copy-\n&quot;);</span><br><span class="line">Â  Â  NSString *str1 = @&quot;Hello&quot;;</span><br><span class="line">Â  Â  NSString *str2 = [str1 copy];</span><br><span class="line">Â  Â  printf(&quot;orignalStr : %s\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;copyStr : %s\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;orignalStr value address: %p\n&quot;,str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr value address: %p\n&quot;,str2);</span><br><span class="line">Â  Â  printf(&quot;orignalStr pointer address: %p\n&quot;,&amp;str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr pointer address: %p\n&quot;,&amp;str2);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  NSMutableString *str3 = [str1 mutableCopy];</span><br><span class="line">Â  Â  [str3 appendString:@&quot; World!&quot;];</span><br><span class="line">Â  Â  printf(&quot;orignalStr : %s\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;copyStr : %s\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;orignalStr value address: %p\n&quot;,str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr value address: %p\n&quot;,str3);</span><br><span class="line">Â  Â  printf(&quot;orignalStr pointer address: %p\n&quot;,&amp;str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr pointer address: %p\n&quot;,&amp;str3);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  printf(&quot;-NSArray Copy-\n&quot;);</span><br><span class="line">Â  Â  NSArray *arr1 = [NSArray arrayWithObjects:[NSMutableString stringWithString:@&quot;Hello&quot;], nil];</span><br><span class="line">Â  Â  NSArray *arr2 = [arr1 copy];</span><br><span class="line">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; World!&quot;];</span><br><span class="line">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class="line">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class="line">Â  Â  printf(&quot;orignalArray value address: %p\n&quot;,arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray value address: %p\n&quot;,arr2);</span><br><span class="line">Â  Â  printf(&quot;orignalArray pointer address: %p\n&quot;,&amp;arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray pointer address: %p\n&quot;,&amp;arr2);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  NSMutableArray *arr3 = [arr1 mutableCopy];</span><br><span class="line">Â  Â  [arr3 addObject:@&quot;World&quot;];</span><br><span class="line">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; + str1&quot;];</span><br><span class="line">Â  Â  [[arr3 objectAtIndex:0] appendString:@&quot; + str3&quot;];</span><br><span class="line">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class="line">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr3);</span><br><span class="line">Â  Â  printf(&quot;orignalArray value address: %p\n&quot;,arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray value address: %p\n&quot;,arr3);</span><br><span class="line">Â  Â  printf(&quot;orignalArray pointer address: %p\n&quot;,&amp;arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray pointer address: %p\n&quot;,&amp;arr3);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœï¼š</p>
<blockquote>
<p><strong>â€”â€“ConstCopy Testâ€”â€“</strong></p>
</blockquote>
<hr>
<p><strong>-NSString Copy-</strong><br><strong>orignalStr : Hello</strong><br><strong>copyStr : Hello</strong><br><strong>orignalStr value address: 0x100002060</strong><br><strong>copyStr value address: 0x100002060</strong><br><strong>orignalStr pointer address: 0x7fff5fbff7a8</strong><br><strong>copyStr pointer address: 0x7fff5fbff7a0</strong></p>
<hr>
<p><strong>orignalStr : Hello</strong><br><strong>copyStr : Hello World!</strong><br><strong>orignalStr value address: 0x100002060</strong><br><strong>copyStr value address: 0x1004074d0</strong><br><strong>orignalStr pointer address: 0x7fff5fbff7a8</strong><br><strong>copyStr pointer address: 0x7fff5fbff798</strong></p>
<hr>
<p><strong>-NSArray Copy-</strong><br><strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (</strong><br><strong>    â€œHello World!â€</strong><br><strong>)</strong><br><strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (</strong><br><strong>    â€œHello World!â€</strong><br><strong>)</strong><br><strong>orignalArray value address: 0x1001016b0</strong><br><strong>copyArray value address: 0x1001016b0</strong><br><strong>orignalArray pointer address: 0x7fff5fbff790</strong><br><strong>copyArray pointer address: 0x7fff5fbff788</strong></p>
<hr>
<p><strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (</strong><br><strong>    â€œHello World! + str1 + str3â€</strong><br><strong>)</strong><br><strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (</strong><br><strong>    â€œHello World! + str1 + str3â€,</strong><br><strong>    World</strong><br><strong>)</strong><br><strong>orignalArray value address: 0x1001016b0</strong><br><strong>copyArray value address: 0x100300000</strong><br><strong>orignalArray pointer address: 0x7fff5fbff790</strong><br><strong>copyArray pointer address: 0x7fff5fbff780</strong></p>
<hr>
<p>è¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ copy æ–¹æ³•å¤åˆ¶åçš„å‰¯æœ¬å¯¹è±¡çš„ value åœ°å€å’ŒåŸå¯¹è±¡æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥é’ˆå¯¹ä¸å¯å˜å¯¹è±¡æ˜¯ç”¨ copy æ–¹æ³•æ˜¯æµ…å¤åˆ¶ã€‚è€Œ mutableCopy æ–¹æ³•å¤åˆ¶åï¼Œå‰¯æœ¬å¯¹è±¡çš„ value å’Œ pointer åœ°å€éƒ½å’ŒåŸå¯¹è±¡ä¸ä¸€æ ·äº†ï¼Œè¯´æ˜ mutableCopy æ–¹æ³•æ˜¯æ·±å¤åˆ¶ã€‚</p>
<p><strong>åˆå§‹å¯¹è±¡å¯å˜ï¼ˆå¦‚ NSMutableStringã€NSMutableArray ç­‰ï¼‰</strong></p>
<p>è°ƒç”¨ copy æ–¹æ³•æ˜¯<strong>æ·±å¤åˆ¶</strong>ï¼Œå› ä¸ºè¿™é‡Œå‰¯æœ¬æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥åªè€ƒè™‘åˆå§‹å¯¹è±¡æ”¹å˜ã€‚å› ä¸ºæ˜¯æ·±å¤åˆ¶ï¼Œåˆå§‹å¯¹è±¡æ— è®ºæ€ä¹ˆæ”¹å˜ï¼Œå‰¯æœ¬çš„å€¼éƒ½æ˜¯ä¸å˜çš„ã€‚<br>è°ƒç”¨ mutableCopy ä¹Ÿæ˜¯<strong>æ·±å¤åˆ¶</strong>ï¼Œå¤åˆ¶è¿‡åï¼Œå‰¯æœ¬ä¸åˆå§‹å¯¹è±¡ä¹‹é—´çš„æ”¹å˜éƒ½æ˜¯ç‹¬ç«‹ä¸å½±å“çš„ï¼Œå¦‚åˆå§‹å¯¹è±¡ str = â€œexampleâ€ï¼Œstr+â€ append1â€ï¼Œå‰¯æœ¬ str+â€ append2â€ï¼Œæœ€ç»ˆè¾“å‡ºç»“æœä¼šæ˜¯åˆå§‹å¯¹è±¡ä¸ºâ€example append1â€ï¼Œå‰¯æœ¬ä¸ºâ€example append2â€ã€‚</p>
<p>è¯•ä¾‹ä»£ç ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">void mutableCopyTest()</span><br><span class="line">&#123;</span><br><span class="line">Â  Â  printf(&quot;-----MutableCopy Test-----\n\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  printf(&quot;-NSString Copy-\n&quot;);</span><br><span class="line">Â  Â  NSMutableString *str1 = [NSMutableString stringWithString:@&quot;Hello&quot;];</span><br><span class="line">Â  Â  NSString *str2 = [str1 copy];</span><br><span class="line">Â  Â  [str1 appendString:@&quot; World&quot;];</span><br><span class="line">Â  Â  printf(&quot;orignalStr : %s\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;copyStr : %s\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;orignalStr value address: %p\n&quot;,str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr value address: %p\n&quot;,str2);</span><br><span class="line">Â  Â  printf(&quot;orignalStr pointer address: %p\n&quot;,&amp;str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr pointer address: %p\n&quot;,&amp;str2);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  NSMutableString *str3 = [str1 mutableCopy];</span><br><span class="line">Â  Â  [str1 appendString:@&quot; + str1&quot;];</span><br><span class="line">Â  Â  [str3 appendString:@&quot; + str3&quot;];</span><br><span class="line">Â  Â  printf(&quot;orignalStr : %s\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;copyStr : %s\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;orignalStr value address: %p\n&quot;,str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr value address: %p\n&quot;,str3);</span><br><span class="line">Â  Â  printf(&quot;orignalStr pointer address: %p\n&quot;,&amp;str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr pointer address: %p\n&quot;,&amp;str3);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  printf(&quot;-NSArray Copy-\n&quot;);</span><br><span class="line">Â  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:[NSMutableString stringWithString:@&quot;Hello&quot;], nil];</span><br><span class="line">Â  Â  NSArray *arr2 = [arr1 copy];</span><br><span class="line">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; World!&quot;];</span><br><span class="line">Â  Â  [arr1 addObject:@&quot;Word&quot;];</span><br><span class="line">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class="line">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class="line">Â  Â  printf(&quot;orignalArray value address: %p\n&quot;,arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray value address: %p\n&quot;,arr2);</span><br><span class="line">Â  Â  printf(&quot;orignalArray pointer address: %p\n&quot;,&amp;arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray pointer address: %p\n&quot;,&amp;arr2);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  NSMutableArray *arr3 = [arr1 mutableCopy];</span><br><span class="line">Â  Â  [arr1 addObject:@&quot;+arr1&quot;];</span><br><span class="line">Â  Â  [arr3 addObject:@&quot;+arr3&quot;];</span><br><span class="line">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; + str1&quot;];</span><br><span class="line">Â  Â  [[arr3 objectAtIndex:0] appendString:@&quot; + str3&quot;];</span><br><span class="line">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class="line">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr3);</span><br><span class="line">Â  Â  printf(&quot;orignalArray value address: %p\n&quot;,arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray value address: %p\n&quot;,arr3);</span><br><span class="line">Â  Â  printf(&quot;orignalArray pointer address: %p\n&quot;,&amp;arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray pointer address: %p\n&quot;,&amp;arr3);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºç»“æœï¼š</p>
<blockquote>
<p><strong>â€”â€“MutableCopy Testâ€”â€“</strong></p>
</blockquote>
<hr>
<p><strong>-NSString Copy-</strong><br><strong>orignalStr : Hello World</strong><br><strong>copyStr : Hello</strong><br><strong>orignalStr value address: 0x100300080</strong><br><strong>copyStr value address: 0x6f6c6c654855</strong><br><strong>orignalStr pointer address: 0x7fff5fbff7a8</strong><br><strong>copyStr pointer address: 0x7fff5fbff7a0</strong></p>
<hr>
<p><strong>orignalStr : Hello World + str1</strong><br><strong>copyStr : Hello World + str3</strong><br><strong>orignalStr value address: 0x100300080</strong><br><strong>copyStr value address: 0x100300320</strong><br><strong>orignalStr pointer address: 0x7fff5fbff7a8</strong><br><strong>copyStr pointer address: 0x7fff5fbff798</strong></p>
<hr>
<p><strong>-NSArray Copy-</strong><br><strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (</strong><br><strong>    â€œHello World!â€,</strong><br><strong>    Word</strong><br><strong>)</strong><br><strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (</strong><br><strong>    â€œHello World!â€</strong><br><strong>)</strong><br><strong>orignalArray value address: 0x100300000</strong><br><strong>copyArray value address: 0x100300b00</strong><br><strong>orignalArray pointer address: 0x7fff5fbff790</strong><br><strong>copyArray pointer address: 0x7fff5fbff788</strong></p>
<hr>
<p><strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (</strong><br><strong>    â€œHello World! + str1 + str3â€,</strong><br><strong>    Word,</strong><br><strong>    â€œ+arr1â€</strong><br><strong>)</strong><br><strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (</strong><br><strong>    â€œHello World! + str1 + str3â€,</strong><br><strong>    Word,</strong><br><strong>    â€œ+arr3â€</strong><br><strong>)</strong><br><strong>orignalArray value address: 0x100300000</strong><br><strong>copyArray value address: 0x100300e40</strong><br><strong>orignalArray pointer address: 0x7fff5fbff790</strong><br><strong>copyArray pointer address: 0x7fff5fbff780</strong></p>
<hr>
<p>é€šè¿‡è¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºå¯å˜å¯¹è±¡ï¼Œè°ƒç”¨ copy ä¸ mutableCopy æ–¹æ³•éƒ½æ˜¯æ·±å¤åˆ¶ï¼Œå› ä¸ºå‰¯æœ¬çš„ value å’Œ pointer åœ°å€éƒ½ä¸åŸå¯¹è±¡ä¸åŒã€‚</p>
<p><code>æ³¨ï¼šå¯¹äºç½‘ä¸ŠæŸäº›è§£é‡Šè¯´NSArray/NSMutableArray NSDictionary/NSMutableDictionaryåªæœ‰æµ…å¤åˆ¶ï¼Œè¿™é‡Œè®¤ä¸ºå¯¹äºå¯¹è±¡æœ¬èº«æ¥è¯´è°ƒç”¨mutableCopyæˆ–å¯¹äºå¯å˜å¯¹è±¡è°ƒç”¨copyéƒ½æ˜¯æ·±å¤åˆ¶ï¼Œåªèƒ½è¯´å¯¹äºæ•°ç»„å’Œå­—å…¸è¿™ç§å¤åˆç»“æ„æ·±å¤åˆ¶æ“ä½œåªæ˜¯ä½œç”¨åˆ°å¤–å±‚å¯¹è±¡ï¼Œå†…éƒ¨å¦‚æœè¿˜æœ‰å¯å˜å¯¹è±¡ï¼Œä»…ä»…å°±æ˜¯å¼•ç”¨çš„å¤åˆ¶ã€‚ï¼ˆä¸Šé¢çš„ä¾‹å­ä¸­å¯¹äºæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ“ä½œå¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹å‡ºæ¥ã€‚å³ä½¿æ˜¯å¯¹æ•°ç»„çš„æ·±å¤åˆ¶ï¼Œç„¶è€Œæ”¹å˜ç¬¬ä¸€ä¸ªå¯å˜å­—ç¬¦ä¸²ï¼Œæ— è®ºæ˜¯å‰¯æœ¬æ•°ç»„è¿˜æ˜¯åŸæ•°ç»„çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²éƒ½æ”¹å˜äº†ã€‚ï¼‰</code></p>
<p>å®Œæ•´ä»£ç ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br></pre></td><td class="code"><pre><span class="line">//</span><br><span class="line">//Â  main.m</span><br><span class="line">//Â  CopyDemo</span><br><span class="line">//</span><br><span class="line">//Â  Created by Jiao Liu on 6/23/16.</span><br><span class="line">//Â  Copyright Â© 2016 ChangHong. All rights reserved.</span><br><span class="line">//</span><br><span class="line"></span><br><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">void mutableCopyTest()</span><br><span class="line">&#123;</span><br><span class="line">Â  Â  printf(&quot;-----MutableCopy Test-----\n\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  printf(&quot;-NSString Copy-\n&quot;);</span><br><span class="line">Â  Â  NSMutableString *str1 = [NSMutableString stringWithString:@&quot;Hello&quot;];</span><br><span class="line">Â  Â  NSString *str2 = [str1 copy];</span><br><span class="line">Â  Â  [str1 appendString:@&quot; World&quot;];</span><br><span class="line">Â  Â  printf(&quot;orignalStr : %s\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;copyStr : %s\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;orignalStr value address: %p\n&quot;,str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr value address: %p\n&quot;,str2);</span><br><span class="line">Â  Â  printf(&quot;orignalStr pointer address: %p\n&quot;,&amp;str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr pointer address: %p\n&quot;,&amp;str2);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  NSMutableString *str3 = [str1 mutableCopy];</span><br><span class="line">Â  Â  [str1 appendString:@&quot; + str1&quot;];</span><br><span class="line">Â  Â  [str3 appendString:@&quot; + str3&quot;];</span><br><span class="line">Â  Â  printf(&quot;orignalStr : %s\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;copyStr : %s\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;orignalStr value address: %p\n&quot;,str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr value address: %p\n&quot;,str3);</span><br><span class="line">Â  Â  printf(&quot;orignalStr pointer address: %p\n&quot;,&amp;str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr pointer address: %p\n&quot;,&amp;str3);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  printf(&quot;-NSArray Copy-\n&quot;);</span><br><span class="line">Â  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:[NSMutableString stringWithString:@&quot;Hello&quot;], nil];</span><br><span class="line">Â  Â  NSArray *arr2 = [arr1 copy];</span><br><span class="line">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; World!&quot;];</span><br><span class="line">Â  Â  [arr1 addObject:@&quot;Word&quot;];</span><br><span class="line">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class="line">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class="line">Â  Â  printf(&quot;orignalArray value address: %p\n&quot;,arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray value address: %p\n&quot;,arr2);</span><br><span class="line">Â  Â  printf(&quot;orignalArray pointer address: %p\n&quot;,&amp;arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray pointer address: %p\n&quot;,&amp;arr2);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  NSMutableArray *arr3 = [arr1 mutableCopy];</span><br><span class="line">Â  Â  [arr1 addObject:@&quot;+arr1&quot;];</span><br><span class="line">Â  Â  [arr3 addObject:@&quot;+arr3&quot;];</span><br><span class="line">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; + str1&quot;];</span><br><span class="line">Â  Â  [[arr3 objectAtIndex:0] appendString:@&quot; + str3&quot;];</span><br><span class="line">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class="line">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr3);</span><br><span class="line">Â  Â  printf(&quot;orignalArray value address: %p\n&quot;,arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray value address: %p\n&quot;,arr3);</span><br><span class="line">Â  Â  printf(&quot;orignalArray pointer address: %p\n&quot;,&amp;arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray pointer address: %p\n&quot;,&amp;arr3);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void constCopyTest()</span><br><span class="line">&#123;</span><br><span class="line">Â  Â  printf(&quot;-----ConstCopy Test-----\n\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  printf(&quot;-NSString Copy-\n&quot;);</span><br><span class="line">Â  Â  NSString *str1 = @&quot;Hello&quot;;</span><br><span class="line">Â  Â  NSString *str2 = [str1 copy];</span><br><span class="line">Â  Â  printf(&quot;orignalStr : %s\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;copyStr : %s\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;orignalStr value address: %p\n&quot;,str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr value address: %p\n&quot;,str2);</span><br><span class="line">Â  Â  printf(&quot;orignalStr pointer address: %p\n&quot;,&amp;str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr pointer address: %p\n&quot;,&amp;str2);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  NSMutableString *str3 = [str1 mutableCopy];</span><br><span class="line">Â  Â  [str3 appendString:@&quot; World!&quot;];</span><br><span class="line">Â  Â  printf(&quot;orignalStr : %s\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;copyStr : %s\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;orignalStr value address: %p\n&quot;,str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr value address: %p\n&quot;,str3);</span><br><span class="line">Â  Â  printf(&quot;orignalStr pointer address: %p\n&quot;,&amp;str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr pointer address: %p\n&quot;,&amp;str3);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  printf(&quot;-NSArray Copy-\n&quot;);</span><br><span class="line">Â  Â  NSArray *arr1 = [NSArray arrayWithObjects:[NSMutableString stringWithString:@&quot;Hello&quot;], nil];</span><br><span class="line">Â  Â  NSArray *arr2 = [arr1 copy];</span><br><span class="line">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; World!&quot;];</span><br><span class="line">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class="line">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class="line">Â  Â  printf(&quot;orignalArray value address: %p\n&quot;,arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray value address: %p\n&quot;,arr2);</span><br><span class="line">Â  Â  printf(&quot;orignalArray pointer address: %p\n&quot;,&amp;arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray pointer address: %p\n&quot;,&amp;arr2);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  NSMutableArray *arr3 = [arr1 mutableCopy];</span><br><span class="line">Â  Â  [arr3 addObject:@&quot;World&quot;];</span><br><span class="line">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; + str1&quot;];</span><br><span class="line">Â  Â  [[arr3 objectAtIndex:0] appendString:@&quot; + str3&quot;];</span><br><span class="line">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class="line">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr3);</span><br><span class="line">Â  Â  printf(&quot;orignalArray value address: %p\n&quot;,arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray value address: %p\n&quot;,arr3);</span><br><span class="line">Â  Â  printf(&quot;orignalArray pointer address: %p\n&quot;,&amp;arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray pointer address: %p\n&quot;,&amp;arr3);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void assignTest()</span><br><span class="line">&#123;</span><br><span class="line">Â  Â  printf(&quot;-----Assign Test-----\n\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  NSString *str1 = @&quot;Hello&quot;;</span><br><span class="line">Â  Â  NSString *str2 = str1;</span><br><span class="line">Â  Â  printf(&quot;orignalStr : %s\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;copyStr : %s\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;orignalStr value address: %p\n&quot;,str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr value address: %p\n&quot;,str2);</span><br><span class="line">Â  Â  printf(&quot;orignalStr pointer address: %p\n&quot;,&amp;str1);</span><br><span class="line">Â  Â  printf(&quot;copyStr pointer address: %p\n&quot;,&amp;str2);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  NSMutableString *str3 = [NSMutableString stringWithString:@&quot;Hello&quot;];</span><br><span class="line">Â  Â  NSMutableString *str4 = str3;</span><br><span class="line">Â  Â  [str3 appendString:@&quot; World&quot;];</span><br><span class="line">Â  Â  [str4 appendString:@&quot;!&quot;];</span><br><span class="line">Â  Â  printf(&quot;orignalStr : %s\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;copyStr : %s\n&quot;,[str4 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class="line">Â  Â  printf(&quot;orignalStr value address: %p\n&quot;,str3);</span><br><span class="line">Â  Â  printf(&quot;copyStr value address: %p\n&quot;,str4);</span><br><span class="line">Â  Â  printf(&quot;orignalStr pointer address: %p\n&quot;,&amp;str3);</span><br><span class="line">Â  Â  printf(&quot;copyStr pointer address: %p\n&quot;,&amp;str4);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:@&quot;Hello&quot;, nil];</span><br><span class="line">Â  Â  NSMutableArray *arr2 = arr1;</span><br><span class="line">Â  Â  [arr1 addObject:@&quot;World&quot;];</span><br><span class="line">Â  Â  [arr2 addObject:@&quot;!&quot;];</span><br><span class="line">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class="line">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class="line">Â  Â  printf(&quot;orignalArray value address: %p\n&quot;,arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray value address: %p\n&quot;,arr2);</span><br><span class="line">Â  Â  printf(&quot;orignalArray pointer address: %p\n&quot;,&amp;arr1);</span><br><span class="line">Â  Â  printf(&quot;copyArray pointer address: %p\n&quot;,&amp;arr2);</span><br><span class="line">Â  Â  printf(&quot;\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, const char * argv[]) &#123;</span><br><span class="line">Â  Â  @autoreleasepool &#123;</span><br><span class="line">Â  Â  Â  Â  // insert code here...</span><br><span class="line">Â  Â  Â  Â  assignTest();</span><br><span class="line">Â  Â  Â  Â  constCopyTest();</span><br><span class="line">Â  Â  Â  Â  mutableCopyTest();</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<p>æœ¬æ–‡æœ€æ—©å‘å¸ƒäºé•¿è™¹è½¯æœå…¬ä¼—å·ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å»çœ‹ä¸€ä¸‹ï¼š<br><a href="http://mp.weixin.qq.com/s?__biz=MzAwMjkxNjYzNA==&amp;mid=2247483852&amp;idx=1&amp;sn=9da01b2399427654ad12e36452f612c9&amp;scene=23&amp;srcid=0822iBXKqaGYwMOnRhVLxNVt#rd" target="_blank" rel="noopener">å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶</a></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2016-08-04T02:56:12.000Z">2016-08-04</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/å·¥ä½œ/">å·¥ä½œ</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/å·¥ä½œ/ACM/">ACM</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 819 ä¸ªå­—)
                </span>
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2016/08/04/2016å¾®è½¯æ¢æ˜Ÿ-Constraint-Checker/">2016å¾®è½¯æ¢æ˜Ÿ | Constraint Checker</a>
            
        </h1>
        <div class="content">
            <p>é¢˜ç›®æ¥æºäº 2016 å¹´å¾®è½¯æ¢æ˜Ÿå¤ä»¤è¥åœ¨çº¿æŠ€æœ¯ç¬”è¯•ï¼Œç¬”è¯•ç»“æœæ˜¯ä½œä¸ºç”„é€‰å¾®è½¯ 2016 æ ¡æ‹›æŠ€æœ¯ç±»èŒä½çš„é‡è¦å‚è€ƒä¹‹ä¸€ã€‚è¿™ä¸ªè€ƒè¯•å¯¹äºæƒ³è¿›å¾®è½¯å®ä¹ æˆ–å·¥ä½œçš„åœ¨æ ¡ç”Ÿæ¥è¯´è¿˜æ˜¯è›®é‡è¦çš„ã€‚<br>æœ¬äººé—²æ¥æ— èŠä¹Ÿæ³¨å†Œäº†å¸å·å°è¯•äº†ç¬¬ä¸€é¢˜ï¼Œä»£ç ç”¨ C++å®ç°ï¼Œæ¯”è¾ƒä¹±ï¼Œä¾¥å¹¸ä¸€æ¬¡é€šè¿‡ã€‚ä¸‹é¢ç›´æ¥çœ‹ä¸€ä¸‹è€ƒé¢˜ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2641798-0227972e7244b9eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<hr>
<p>é¢˜ç›®ï¼š</p>
<p>æ—¶é—´é™åˆ¶:10000ms<br>å•ç‚¹æ—¶é™:1000ms<br>å†…å­˜é™åˆ¶:256MB</p>
<p>æè¿°<br>Given a set of constraints like <strong>0&lt;N&lt;=M&lt;=100</strong> and values for all the variables, write a checker program to determine if the constraints are satisfied.<br>More precisely, the format of constraints is:<br><strong>token op token op â€¦ op token</strong><br>where each token is either a constant integer or a variable represented by a capital letter and each op is either less-than ( &lt; ) or less-than-or-equal-to ( &lt;= ).<br>è¾“å…¥<br>The first line contains an integer N, the number of constraints. (1 â‰¤ Nâ‰¤ 20)<br>Each of the following N lines contains a constraint in the previous mentioned format.<br>Then follows an integer T, the number of assignments to check. (1 â‰¤ Tâ‰¤ 50)<br>Each assignment occupies K lines where K is the number of variables in the constraints.<br>Each line contains a capital letter and an integer, representing a variable and its value.<br>It is guaranteed that:</p>
<ol>
<li>Every token in the constraints is either an integer from 0 to 1000000 or an variable represented by a capital letter from â€˜Aâ€™ to â€˜Zâ€™.</li>
<li>There is no space in the constraints.</li>
<li>In each assignment every variable appears exactly once and its value is from 0 to 1000000.<br>è¾“å‡º<br>For each assignment output Yes or No indicating if the constraints are satisfied.</li>
</ol>
<blockquote>
<p>æ ·ä¾‹è¾“å…¥<br>2<br>A&lt;B&lt;=E<br>3&lt;=E&lt;5<br>2<br>A 1<br>B 2<br>E 3<br>A 3<br>B 5<br>E 10</p>
</blockquote>
<blockquote>
<p>æ ·ä¾‹è¾“å‡º<br>Yes<br>No</p>
</blockquote>
<p>è§£é‡Šï¼š<br>è¿™é“é¢˜é¢˜ç›®è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯æ ¹æ®è¾“å…¥çš„è‹¥å¹²ä¸ªä¸ç­‰å¼ï¼Œæ ¡éªŒåé¢è¾“å…¥çš„æ•°æ®æ˜¯å¦éƒ½æ»¡è¶³å‰é¢çš„ä¸ç­‰å¼ï¼Œæ»¡è¶³å°±è¾“å‡º Yesï¼Œåªè¦æœ‰ä¸€ä¸ªä¸æ»¡è¶³å°±è¾“å‡º Noã€‚å¦‚â€œA&lt;B&lt;=Eï¼Œ3&lt;=E&lt;5â€è¿™ä¸ªä¸¤ä¸ªå…³ç³»å¼ï¼Œå¯¹äºè¾“å…¥ A ï¼ 1ï¼ŒB ï¼ 2ï¼ŒE ï¼ 3 è‚¯å®šæ»¡è¶³ï¼Œå› ä¸º 1&lt;2&lt;=3ï¼Œ3&lt;=3&lt;5ã€‚è€Œ A ï¼ 3, B ï¼ 5ï¼ŒE=10 å°±ä¸æ»¡è¶³ï¼Œå› ä¸º 3&lt;=10&lt;5 ä¸æˆç«‹ã€‚</p>
<p>åˆ†æï¼š<br>1ã€ç”±äºæœ‰æ‰€æœ‰ä¸ç­‰å¼éƒ½è¦é€šè¿‡æ ¡éªŒæ‰è¾“å‡º Yesï¼Œé‚£ä¹ˆä»£è¡¨æˆ‘ä»¬è¦åœ¨è¾“å…¥çš„æ—¶å€™å°±å°†æ‰€æœ‰ä¸ç­‰å¼å…³ç³»éƒ½å­˜èµ·æ¥æ–¹ä¾¿åé¢æ ¡éªŒï¼Œè¿™é‡Œæˆ‘ç”¨äº†ä¸€ä¸ª vector æ¥å­˜å‚¨è¿™äº›å…³ç³»ï¼Œåé¢æ ¡éªŒçš„æ—¶å€™éå† vector é‡Œé¢æ‰€æœ‰çš„å€¼ï¼Œä¸€ä¸ªä¸ªæ ¡éªŒã€‚<br>2ã€ç”±äºæ¯ä¸ªä¸ç­‰å¼å…³ç³»åªæœ‰â€&lt;â€æˆ–è€…â€&lt;=â€ï¼Œè¯´æ˜è¿™ä¸ªå…³ç³»æ˜¯é€’å¢çš„ï¼Œæ‰€ä»¥æˆ‘ç”¨äº† multimap&lt;intï¼Œstring&gt;æ¥å­˜å‚¨è¿™ç§å…³ç³»ï¼ˆmultimap å¯¹äº key æ˜¯è‡ªå¢é•¿æ’åºï¼Œå¹¶ä¸”å¯ä»¥å­˜å‚¨ç›¸åŒçš„ keyï¼‰ã€‚æ¥çœ‹çœ‹æˆ‘å¯¹å…³ç³»å¼çš„ä¸€ä¸ªè½¬æ¢å‡½æ•°ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">multimap&lt;int,string&gt; convertStrToMap(string operation)</span><br><span class="line">&#123;</span><br><span class="line">Â  Â  multimap&lt;int,string&gt; mapOp;</span><br><span class="line">Â  Â  size_t len = operation.length();</span><br><span class="line">Â  Â  int rank = 0;</span><br><span class="line">Â  Â  int prior = 0;</span><br><span class="line">Â  Â  for (int i = 0; i &lt; len; i++) &#123;</span><br><span class="line">Â  Â  Â  Â  char letter = operation[i];</span><br><span class="line">Â  Â  Â  Â  if (letter == &apos;&lt;&apos;) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  string str = operation.substr(prior, i - prior);</span><br><span class="line">Â  Â  Â  Â  Â  Â  mapOp.insert(make_pair(rank, str));</span><br><span class="line">Â  Â  Â  Â  Â  Â  if (i - prior == 1) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  if (str[0] &gt;= &apos;A&apos; &amp;&amp; str[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  varMap.insert(make_pair(str[0], 0));</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â  prior = i + 1;</span><br><span class="line">Â  Â  Â  Â  Â  Â  rank++;</span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  if (letter == &apos;=&apos;) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  prior = i + 1;</span><br><span class="line">Â  Â  Â  Â  Â  Â  rank--;</span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  string str = operation.substr(prior, len - prior);</span><br><span class="line">Â  Â  mapOp.insert(make_pair(rank, str));</span><br><span class="line">Â  Â  if (len - prior == 1) &#123;</span><br><span class="line">Â  Â  Â  Â  if (str[0] &gt;= &apos;A&apos; &amp;&amp; str[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  varMap.insert(make_pair(str[0], 0));</span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  return mapOp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿”å›çš„ mapOp å°±æ˜¯å°† string ç±»å‹çš„å…³ç³»å¼è½¬æ¢åçš„ multimapï¼Œè¿™é‡Œçš„ key æ˜¯ int ç±»å‹ä»£è¡¨è¯¥å˜é‡æˆ–è€…æ•°å­—æ˜¯åœ¨å…³ç³»å¼ä»€ä¹ˆå±‚çº§ï¼Œvalue æ˜¯ string ç±»å‹æ–¹ä¾¿åé¢è½¬æ¢æˆæ•°å­—è¿›è¡Œæ¯”è¾ƒã€‚ä¾‹å¦‚ï¼ŒA&lt;B&lt;=Eï¼Œåœ¨ multimap ä¸­ä¼šå­˜ä¸ºï½›0:A,1:B,1:Eï½ã€‚è¿™æ®µä»£ç è¿˜æœ‰ä¸ª varMap å˜é‡ï¼Œå®ƒæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œç”¨æ¥è®°å½•å…³ç³»å¼ä¸­å‡ºç°çš„å˜é‡ï¼ˆé¢˜ç›®è§„å®šäº†å˜é‡åªèƒ½å¤Ÿæ˜¯ Aï¼Zï¼‰ã€‚<br>3ã€æœ€åå°±æ˜¯è¾“å…¥æ•°æ®ï¼Œæ›´æ–° varMapï¼Œç„¶åæ ¹æ®å…³ç³»å¼æ¯”è¾ƒçœ‹æ˜¯å¦æ»¡è¶³ï¼Œè¾“å‡ºç»“æœã€‚ä»£ç ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">int findValue(string input)</span><br><span class="line">&#123;</span><br><span class="line">Â  Â  if (input.size() == 1 &amp;&amp; input[0] &gt;= &apos;A&apos; &amp;&amp; input[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class="line">Â  Â  Â  Â  return varMap[input[0]];</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  return atoi(input.c_str());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void checker(vector&lt;multimap&lt;int,string&gt;&gt; opVec)</span><br><span class="line">&#123;</span><br><span class="line">Â  Â  bool pass = true;</span><br><span class="line">Â  Â  for (int i = 0; i &lt; opVec.size(); i++) &#123;</span><br><span class="line">Â  Â  Â  Â  multimap&lt;int,string&gt; operation = opVec[i];</span><br><span class="line">Â  Â  Â  Â  multimap&lt;int,string&gt;::iterator it;</span><br><span class="line">Â  Â  Â  Â  int rank1 = -1, rank2 = -1;</span><br><span class="line">Â  Â  Â  Â  int value1, value2;</span><br><span class="line">Â  Â  Â  Â  string var1, var2;</span><br><span class="line">Â  Â  Â  Â  for (it = operation.begin(); it !=operation.end(); it++) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  if (rank1 == -1) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  rank1 = it-&gt;first;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  var1 = it-&gt;second;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  continue;</span><br><span class="line">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â  rank2 = it-&gt;first;</span><br><span class="line">Â  Â  Â  Â  Â  Â  var2 = it-&gt;second;</span><br><span class="line">Â  Â  Â  Â  Â  Â  value1 = findValue(var1);</span><br><span class="line">Â  Â  Â  Â  Â  Â  value2 = findValue(var2);</span><br><span class="line">Â  Â  Â  Â  Â  Â  if (rank1 == rank2) &#123; // &lt;=</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  if (value1 &lt;= value2) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = true;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  else</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = false;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â  else // &lt;</span><br><span class="line">Â  Â  Â  Â  Â  Â  &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  if (value1 &lt; value2) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = true;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  else</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = false;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â Â  Â  Â  Â  Â  Â </span><br><span class="line">Â  Â  Â  Â  Â  Â  if (!pass) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  break;</span><br><span class="line">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â Â  Â  Â  Â  Â  Â </span><br><span class="line">Â  Â  Â  Â  Â  Â  var1 = var2;</span><br><span class="line">Â  Â  Â  Â  Â  Â  rank1 = rank2;</span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line">Â Â  Â  Â  Â </span><br><span class="line">Â  Â  Â  Â  if (!pass) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  break;</span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  if (pass) &#123;</span><br><span class="line">Â  Â  Â  Â  cout&lt;&lt;&quot;Yes&quot;&lt;&lt;endl;</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  else</span><br><span class="line">Â  Â  &#123;</span><br><span class="line">Â  Â  Â  Â  cout&lt;&lt;&quot;No&quot;&lt;&lt;endl;</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”±äºå‰é¢å…³ç³»å¼å·²ç»æŒ‰ç»“æ„å­˜å‚¨å¥½äº†ï¼Œæ‰€ä»¥åªéœ€è¦ä¸€æ­¥æ­¥æ¯”è¾ƒæ ¡éªŒå³å¯ã€‚å±‚çº§ä¸€æ ·çš„å˜é‡ï¼Œvalue æƒ³ç­‰é€šè¿‡ï¼Œå±‚çº§ä¸ä¸€æ ·çš„ï¼Œvalue1&lt;value2 å³å¯ã€‚</p>
<p>çœ‹ä¸€ä¸‹åˆ¤å®šç»“æœï¼š<br><img src="http://upload-images.jianshu.io/upload_images/2641798-645fb746e176c24b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>å®Œæ•´ä»£ç ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line">//</span><br><span class="line">//  main.cpp</span><br><span class="line">//  Constraint Checker</span><br><span class="line">//</span><br><span class="line">//  Created by Jiao Liu on 7/18/16.</span><br><span class="line">//  Copyright Â© 2016 ChangHong. All rights reserved.</span><br><span class="line">//</span><br><span class="line"></span><br><span class="line">#include &lt;map&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line">map&lt;char,int&gt; varMap;</span><br><span class="line"></span><br><span class="line">multimap&lt;int,string&gt; convertStrToMap(string operation)</span><br><span class="line">&#123;</span><br><span class="line">    multimap&lt;int,string&gt; mapOp;</span><br><span class="line">    size_t len = operation.length();</span><br><span class="line">    int rank = 0;</span><br><span class="line">    int prior = 0;</span><br><span class="line">    for (int i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        char letter = operation[i];</span><br><span class="line">        if (letter == &apos;&lt;&apos;) &#123;</span><br><span class="line">            string str = operation.substr(prior, i - prior);</span><br><span class="line">            mapOp.insert(make_pair(rank, str));</span><br><span class="line">            if (i - prior == 1) &#123;</span><br><span class="line">                if (str[0] &gt;= &apos;A&apos; &amp;&amp; str[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class="line">                    varMap.insert(make_pair(str[0], 0));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            prior = i + 1;</span><br><span class="line">            rank++;</span><br><span class="line">        &#125;</span><br><span class="line">        if (letter == &apos;=&apos;) &#123;</span><br><span class="line">            prior = i + 1;</span><br><span class="line">            rank--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    string str = operation.substr(prior, len - prior);</span><br><span class="line">    mapOp.insert(make_pair(rank, str));</span><br><span class="line">    if (len - prior == 1) &#123;</span><br><span class="line">        if (str[0] &gt;= &apos;A&apos; &amp;&amp; str[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class="line">            varMap.insert(make_pair(str[0], 0));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return mapOp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int findValue(string input)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    if (input.size() == 1 &amp;&amp; input[0] &gt;= &apos;A&apos; &amp;&amp; input[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class="line">        return varMap[input[0]];</span><br><span class="line">    &#125;</span><br><span class="line">    return atoi(input.c_str());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void checker(vector&lt;multimap&lt;int,string&gt;&gt; opVec)</span><br><span class="line">&#123;</span><br><span class="line">    bool pass = true;</span><br><span class="line">    for (int i = 0; i &lt; opVec.size(); i++) &#123;</span><br><span class="line">        multimap&lt;int,string&gt; operation = opVec[i];</span><br><span class="line">        multimap&lt;int,string&gt;::iterator it;</span><br><span class="line">        int rank1 = -1, rank2 = -1;</span><br><span class="line">        int value1, value2;</span><br><span class="line">        string var1, var2;</span><br><span class="line">        for (it = operation.begin(); it !=operation.end(); it++) &#123;</span><br><span class="line">            if (rank1 == -1) &#123;</span><br><span class="line">                rank1 = it-&gt;first;</span><br><span class="line">                var1 = it-&gt;second;</span><br><span class="line">                continue;</span><br><span class="line">            &#125;</span><br><span class="line">            rank2 = it-&gt;first;</span><br><span class="line">            var2 = it-&gt;second;</span><br><span class="line">            value1 = findValue(var1);</span><br><span class="line">            value2 = findValue(var2);</span><br><span class="line">            if (rank1 == rank2) &#123; // &lt;=</span><br><span class="line">                if (value1 &lt;= value2) &#123;</span><br><span class="line">                    pass = true;</span><br><span class="line">                &#125;</span><br><span class="line">                else</span><br><span class="line">                &#123;</span><br><span class="line">                    pass = false;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            else // &lt;</span><br><span class="line">            &#123;</span><br><span class="line">                if (value1 &lt; value2) &#123;</span><br><span class="line">                    pass = true;</span><br><span class="line">                &#125;</span><br><span class="line">                else</span><br><span class="line">                &#123;</span><br><span class="line">                    pass = false;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if (!pass) &#123;</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            var1 = var2;</span><br><span class="line">            rank1 = rank2;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (!pass) &#123;</span><br><span class="line">            break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (pass) &#123;</span><br><span class="line">        cout&lt;&lt;&quot;Yes&quot;&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    else</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;&quot;No&quot;&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int N;</span><br><span class="line">    scanf(&quot;%d&quot;,&amp;N);</span><br><span class="line">    vector&lt;multimap&lt;int,string&gt;&gt; opVec;</span><br><span class="line">    while (N--) &#123;</span><br><span class="line">        string op;</span><br><span class="line">        cin &gt;&gt; op;</span><br><span class="line">        multimap&lt;int,string&gt; operation = convertStrToMap(op);</span><br><span class="line">        opVec.push_back(operation);</span><br><span class="line">    &#125;</span><br><span class="line">    int T;</span><br><span class="line">    scanf(&quot;%d&quot;,&amp;T);</span><br><span class="line">    while (T--) &#123;</span><br><span class="line">        size_t numOfVar = varMap.size();</span><br><span class="line">        while (numOfVar--) &#123;</span><br><span class="line">            char letter;</span><br><span class="line">            int value;</span><br><span class="line">            cin&gt;&gt;letter&gt;&gt;value;</span><br><span class="line">            varMap[letter] = value;</span><br><span class="line">        &#125;</span><br><span class="line">        checker(opVec);</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2016-08-02T02:49:54.000Z">2016-08-02</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/å·¥ä½œ/">å·¥ä½œ</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/å·¥ä½œ/ACM/">ACM</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    14 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 2050 ä¸ªå­—)
                </span>
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2016/08/02/ç”¨DFSæ¥æ’åº§ä½/">ç”¨DFSæ¥æ’åº§ä½</a>
            
        </h1>
        <div class="content">
            <p>DFSï¼ˆDepth-First-Searchï¼‰æ·±åº¦ä¼˜å…ˆç®—æ³•ï¼Œæ˜¯æœç´¢ç®—æ³•çš„ä¸€ç§ã€‚æ˜¯ä¸€ç§åœ¨å¼€å‘çˆ¬è™«æ—©æœŸä½¿ç”¨è¾ƒå¤šçš„æ–¹æ³•ã€‚å®ƒçš„æ€æƒ³æ˜¯ä»ä¸€ä¸ªé¡¶ç‚¹ V0 å¼€å§‹ï¼Œæ²¿ç€ä¸€æ¡è·¯ä¸€ç›´èµ°åˆ°åº•ï¼Œå¦‚æœå‘ç°ä¸èƒ½åˆ°è¾¾ç›®æ ‡è§£ï¼Œé‚£å°±è¿”å›åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åä»å¦ä¸€æ¡è·¯å¼€å§‹èµ°åˆ°åº•ï¼Œè¿™ç§å°½é‡å¾€æ·±å¤„èµ°çš„æ¦‚å¿µå³æ˜¯æ·±åº¦ä¼˜å…ˆçš„æ¦‚å¿µã€‚</p>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢æ˜¯å›¾è®ºä¸­çš„ç»å…¸ç®—æ³•ï¼Œåˆ©ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•å¯ä»¥äº§ç”Ÿç›®æ ‡å›¾çš„ç›¸åº”æ‹“æ‰‘æ’åºè¡¨ï¼Œåˆ©ç”¨æ‹“æ‰‘æ’åºè¡¨å¯ä»¥æ–¹ä¾¿çš„è§£å†³å¾ˆå¤šç›¸å…³çš„å›¾è®ºé—®é¢˜ï¼Œå¦‚æœ€å¤§è·¯å¾„é—®é¢˜ç­‰ç­‰ã€‚</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2641798-5ed96443e4c08337.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="DFS"></p>
<p>ä¸‹é¢ä»¥ä¸€ä¸ªå…·ä½“é—®é¢˜æ¥çœ‹ DFS çš„å®ç°ä¸å®ç”¨ã€‚ï¼ˆé—®é¢˜æ¥æº[GCJ2016-1A]BFFsï¼‰</p>
<p><strong>Problem</strong><br>You are a teacher at the brand new Little Coders kindergarten. You have<strong>N</strong>kids in your class, and each one has a different student ID number from 1 through<strong>N</strong>. Every kid in your class has a single best friend forever (BFF), and you know who that BFF is for each kid. BFFs are not necessarily reciprocal â€“ that is, B being Aâ€™s BFF does not imply that A is Bâ€™s BFF.<br>Your lesson plan for tomorrow includes an activity in which the participants must sit in a circle. You want to make the activity as successful as possible by building the largest possible circle of kids such that each kid in the circle is sitting directly next to their BFF, either to the left or to the right. Any kids not in the circle will watch the activity without participating.<br>What is the greatest number of kids that can be in the circle?<br><strong>Input</strong><br>The first line of the input gives the number of test cases,<strong>T</strong>.<strong>T</strong>test cases follow. Each test case consists of two lines. The first line of a test case contains a single integer<strong>N</strong>, the total number of kids in the class. The second line of a test case contains<strong>N</strong>integers<strong>F1</strong>,<strong>F2</strong>, â€¦,<strong>FN</strong>, where<strong>Fi</strong>is the student ID number of the BFF of the kid with student ID i.<br><strong>Output</strong><br>For each test case, output one line containing â€œCase #x: yâ€, where x is the test case number (starting from 1) and y is the maximum number of kids in the group that can be arranged in a circle such that each kid in the circle is sitting next to his or her BFF.<br><strong>Limits</strong><br>1 â‰¤<strong>T</strong>â‰¤ 100.<br>1 â‰¤<strong>Fi</strong>â‰¤<strong>N</strong>, for all i.<br><strong>Fi</strong>â‰  i, for all i. (No kid is their own BFF.)<br><strong>Small dataset</strong><br>3 â‰¤<strong>N</strong>â‰¤ 10.<br><strong>Large dataset</strong><br>3 â‰¤<strong>N</strong>â‰¤ 1000.<br><strong>Sample</strong></p>
<blockquote>
<p>Input<br>4<br>4<br>2 3 4 1<br>4<br>3 3 4 1<br>4<br>3 3 4 3<br>10<br>7 8 10 10 9 2 9 6 3 3<br>Output<br>Case #1: 4<br>Case #2: 3<br>Case #3: 3<br>Case #4: 6</p>
</blockquote>
<p>In sample case #4, the largest possible circle seats the following kids in the following order:7 9 3 10 4 1. (Any reflection or rotation of this circle would also work.) Note that the kid with student ID 1 is next to the kid with student ID 7, as required, because the list represents a circle.</p>
<p>è§£é‡Šï¼š<br>ä¸€ä¸ªå¹¼å„¿å›­ï¼Œæœ‰ N ä¸ªå°æœ‹å‹ï¼Œç¼–å·ä» 1 åˆ° Nï¼Œæ¯ä¸ªå­©å­æœ‰ä¸€ä¸ªæ°¸è¿œæœ€å¥½çš„æœ‹å‹ã€‚è¿™ä¸ª BFF ä¸æ˜¯ç›¸äº’çš„ï¼ŒA æ˜¯ B çš„ BFFï¼Œä¸ä»£è¡¨ B ä¹Ÿæ˜¯ A çš„çš„ BFFã€‚æ¥ä¸‹æ¥æ˜å¤©æœ‰èŠ‚è¯¾éœ€è¦å°æœ‹å‹åæˆä¸€ä¸ªåœˆç©æ¸¸æˆï¼Œä½†æ˜¯æ¯ä¸ªå­©å­éƒ½å¸Œæœ›è‡ªå·±çš„å·¦è¾¹æˆ–è€…å³è¾¹åçš„æ˜¯è‡ªå·±çš„ BFFï¼Œæ²¡åè¿›å»çš„å°æœ‹å‹å°±åªèƒ½è§‚çœ‹ä»–ä»¬ç©ï¼Œé‚£ä¹ˆè¿™ä¸ªåœˆæœ€å¤§èƒ½åå¤šå°‘ä¸ªå°æœ‹å‹ï¼Ÿ<br>è¾“å…¥ç¬¬ä¸€ä¸ªæ•° T æ˜¯æµ‹è¯•æ•°æ®çš„ç»„æ•°ï¼Œç„¶åæ¯ä¸¤è¡Œä¸ºä¸€ç»„ï¼Œç¬¬ä¸€è¡Œä¸€ä¸ªæ•°å­—æ˜¯ N å°æœ‹å‹çš„ä¸ªæ•°ï¼Œç¬¬äºŒè¡Œ N ä¸ªæ•°å­—æ˜¯ç¼–å· 1 åˆ° N çš„å­©å­çš„æœ€å¥½æœ‹å‹ç¼–å·ã€‚<br>è¾“å‡ºæ¯è¡Œä»£è¡¨æ¯ç»„æµ‹è¯•æ•°æ®çš„æœ€å¤§åœˆåå°æœ‹å‹æ•°é‡ã€‚</p>
<p>åˆ†æï¼š<br>ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ¯ä¸ªå­©å­é€šè¿‡ BFF è¿™ä¸ªå…³ç³»å•å‘èƒ½ä¸€å…±èƒ½é“¾åˆ°å¤šå°‘å­©å­è¿›æ¥ï¼Œè¿™é‡Œå°±è¦ç”¨åˆ° DFS æŠ€æœ¯æ¥å®ç°ã€‚æ¥çœ‹ä¸€ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">void dfs(int *input, bool *flag ,int start, NSMutableArray *array)</span><br><span class="line">&#123;</span><br><span class="line">Â  Â  if (flag[start - 1] == true) &#123;</span><br><span class="line">Â  Â  Â  Â  return;</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  else</span><br><span class="line">Â  Â  &#123;</span><br><span class="line">Â  Â  Â  Â  flag[start - 1] = true;</span><br><span class="line">Â  Â  Â  Â  [array addObject:[NSNumber numberWithInt:start]];</span><br><span class="line">Â  Â  Â  Â  start = input[start - 1];</span><br><span class="line">Â  Â  Â  Â  dfs(input, flag, start, array);</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œ input æ˜¯ BFF å…³ç³»æ•°ç»„ï¼Œflag æ˜¯æ ‡å¿—æŸä¸€ä¸ªå°å­©æ˜¯å¦è®¿é—®è¿‡çš„æ•°ç»„ï¼Œstart ä»£è¡¨ä»å“ªä¸ªå°å­©å¼€å§‹æœç´¢ï¼Œarray æ˜¯æœ€åæˆ‘ä»¬è¦çš„é“¾ã€‚ä» start ä¼ å…¥çš„å°å­©ç¼–å·å¼€å§‹æœç´¢ï¼Œå°† start è‡ªå·±å†™åˆ° array ä¸­å¹¶æ ‡è®°ä¸ºå·²è®¿é—®ï¼Œç„¶å start æ›´æ–°ä¸ºè‡ªå·±çš„ BFFï¼Œè¿­ä»£è°ƒç”¨ dfsï¼Œç›´åˆ°èµ°åˆ°æ ‡è®°ä¸ºå·²è®¿é—®èŠ‚ç‚¹åœæ­¢æœç´¢ã€‚ç„¶åå°†åˆ†åˆ«ä» 1 åˆ° N ç¼–å·çš„å°å­©ä¸ºèµ·ç‚¹çš„å½¢æˆçš„æœ€é•¿é“¾çš„éƒ½å­˜å‚¨èµ·æ¥ã€‚è¿™é‡Œæˆ‘ä»¬å­˜åœ¨ chainArray é‡Œé¢ï¼Œæ–¹ä¾¿åé¢ä½¿ç”¨ã€‚</p>
<p>ç¬¬äºŒæ­¥ï¼Œæˆ‘ä»¬ç”¨åˆšæ‰ä¿å­˜çš„é“¾æ¥æ‹¼æ¥ç¯ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ä¸€ä¸ªæ•°ç»„æ¥è®°å½•ä»¥æ¯ä¸ªå­©å­ä¸ºèµ·ç‚¹çš„æœ€å¤§ç¯é•¿åº¦ circleï¼ŒåŒæ—¶ç”¨ä¸€ä¸ªæ•´æ•° maxNum è®°å½•æ‰€æœ‰çš„ç¯ä¸­æœ€å¤§å€¼ã€‚ç„¶åæˆ‘ä»¬å¼€å§‹éå†åˆšæ‰è®°å½•åœ¨ chainArray é‡Œé¢çš„é“¾ï¼Œè®¡ç®—ä»–ä»¬èƒ½æ‹¼æ¥æœ€é•¿ç¯çš„å¤§å°ã€‚è®¡ç®—ä¸­åˆ†ä¸‰ç§æƒ…å†µï¼š<br>1ã€é“¾çš„æœ€åä¸€ä½å°æœ‹å‹çš„æœ€å¥½æœ‹å‹ä¸æ˜¯ç¬¬ä¸€ä½ä¸å€’æ•°ç¬¬äºŒä½å°å­©ã€‚å¦‚ï¼š1-&gt;2-&gt;3-&gt;4ï¼Œä½†æ˜¯ 4 çš„ BFF æ˜¯ 2ï¼Œé‚£ä¹ˆè¿™ç§é“¾å°±æ˜¯æ— æ•ˆçš„ï¼Œä¹Ÿä¸èƒ½å¤Ÿæˆç¯ï¼Œé•¿åº¦å°±è®°ä¸º 0ï¼›<br>2ã€é“¾çš„æœ€åä¸€ä½å°æœ‹å‹çš„æœ€å¥½æœ‹å‹æ˜¯ç¬¬ä¸€ä½å°å­©ã€‚å¦‚ï¼š1-&gt;2-&gt;3-&gt;4ï¼Œ4 çš„ BFF æ˜¯ 1ï¼Œé‚£ä¹ˆè¿™ç§é“¾å°±æ˜¯è‡ªæˆç¯ï¼Œé•¿åº¦è®°ä¸ºé“¾é•¿åº¦ 4ã€‚<br>3ã€é“¾çš„æœ€åä¸€ä½å°æœ‹å‹çš„æœ€å¥½æœ‹å‹æ˜¯å€’æ•°ç¬¬äºŒä½å°å­©ã€‚å¦‚ï¼š1-&gt;2-&gt;3-&gt;4ï¼Œ4 çš„ BFF æ˜¯ 3ï¼Œè¿™ç§é“¾æ—¢è‡ªæˆç¯ï¼Œåˆå¯ä»¥å’Œå…¶å®ƒä»¥ 3 ç»“å°¾çš„é“¾æ‹¼æ¥æˆç¯ï¼Œå¦‚ 5-&gt;4-&gt;3ï¼Œä¸¤ä¸ªé“¾æ‹¼æ¥åå°±æˆäº† 1-&gt;2-&gt;3<->4&lt;-5ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å°±å¿…é¡»å†æ¬¡éå†æ‰€æœ‰é“¾ï¼Œæ‰¾å‡ºå’Œè¯¥é“¾æ‹¼æ¥åçš„æœ€é•¿é“¾ï¼Œè®°å½•ä¸ºä¸¤é“¾é•¿åº¦å’Œå‡ 2ï¼Œå¹¶ä¿å­˜è¿› circle ä¸­ã€‚<br>æœ€åï¼Œæ¯æ¬¡æ›´æ–°è¿‡åç¯é•¿åº¦è¿‡åï¼Œéœ€è¦æ›´æ–° maxNum çš„å€¼ã€‚<br>å®ç°ä»£ç å¦‚ä¸‹ï¼š</-></p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Â  Â  for (int j = 0; j &lt; N; j++) &#123;</span><br><span class="line">Â  Â  Â  Â  NSArray *array = [chainArray objectAtIndex:j];</span><br><span class="line">Â  Â  Â  Â  int length = (int)array.count;</span><br><span class="line">Â  Â  Â  Â  int LastIndex = [[array lastObject] intValue];</span><br><span class="line">Â  Â  Â  Â  int nextValue = input[LastIndex - 1];</span><br><span class="line">Â  Â  Â  Â  if (nextValue != [[array firstObject] intValue] &amp;&amp; nextValue != [[array objectAtIndex:array.count - 2] intValue]) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  length = 0;</span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  else</span><br><span class="line">Â  Â  Â  Â  &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  if (nextValue == [[array objectAtIndex:array.count - 2] intValue]) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  int MaxLength = 0;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  for (NSArray *item in chainArray) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  int newLength = 0;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ([[item lastObject] intValue] == nextValue) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newLength = length + (int)[item count] - 2;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  MaxLength = MAX(MaxLength, newLength);</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  length = MaxLength;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  if (circle[nextValue - 1] &lt; length) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  circle[nextValue - 1] = length;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line">Â Â  Â  Â  Â </span><br><span class="line">Â  Â  Â  Â  maxNum = MAX(maxNum, length);</span><br><span class="line">Â  Â  &#125;</span><br></pre></td></tr></table></figure>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬åŸºæœ¬æ‰¾åˆ°äº†ä»¥æ‰€æœ‰å­©å­ä¸ºèµ·ç‚¹èƒ½å½¢æˆçš„å•ä¸€ç¯ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯èƒ½å½¢æˆçš„æœ€å¤§ç¯ã€‚</p>
<p>ç¬¬ä¸‰æ­¥ï¼Œæ‰¾å‡ºæœ€å¤§çš„ç¯å¤§å°ï¼Œä¸Šé¢çš„ maxNum å·²ç»è®°å½•äº†å•ç¯æ‰€èƒ½å¾—åˆ°çš„æœ€å¤§å€¼ï¼Œä½†æ˜¯å¯¹äºå¦‚ 1-&gt;2-&gt;3<->4<-5 è¿™ç§å›ç¯ï¼Œå…¶å®è¿˜æ˜¯å¯ä»¥å’Œå…¶å®ƒå›ç¯è¿›è¡Œæ‹¼æ¥ï¼Œå¦‚å’Œ="" 6-="">7<->8<-9 æ‹¼æ¥ï¼Œæœ€åå¾—åˆ°æ›´å¤§çš„ç¯="" 1-="">2-&gt;3<->4&lt;-5\6-&gt;7<->8&lt;-9ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠåˆšæ‰ circle ä¸­è®°å½•çš„å›ç¯é•¿åº¦éƒ½åŠ èµ·æ¥é™¤ä»¥ 2ï¼Œå†æ¥æ›´æ–° maxNum å¾—åˆ°æœ€ç»ˆçš„ç»“æœï¼Œä»£ç å¦‚ä¸‹ï¼š</-></-></-9></-></-5></-></p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Â  Â  int tot = 0;</span><br><span class="line">Â  Â  for (int k = 0; k &lt; N; k ++) &#123;</span><br><span class="line">Â  Â  Â  Â  tot += circle[k];</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  maxNum = MAX(maxNum, tot / 2);</span><br><span class="line">Â  Â  return maxNum;</span><br></pre></td></tr></table></figure>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œç¾çš„åˆ©ç”¨ DFS å®Œæˆäº†å¯¹å°æœ‹å‹æ’åº§ä½çš„ä»»åŠ¡ã€‚<br>çœ‹ä¸€ä¸‹è¾“å‡ºåˆ¤å®šç»“æœï¼š</p>
<blockquote>
<p>Small input<br>16 pointsSolve C-small<br>Judgeâ€™s response for last submission: Correct.<br>Large input<br>29 pointsSolve C-large<br>Judgeâ€™s response for last submission: Correct.</p>
</blockquote>
<p>å®Œæ•´ä»£ç ï¼š</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">//</span><br><span class="line">//Â  main.m</span><br><span class="line">//Â  BFFs</span><br><span class="line">//</span><br><span class="line">//Â  Created by Jiao Liu on 4/16/16.</span><br><span class="line">//Â  Copyright Â© 2016 ChangHong. All rights reserved.</span><br><span class="line">//</span><br><span class="line"></span><br><span class="line">#import &lt;Foundation/Foundation.h&gt;</span><br><span class="line"></span><br><span class="line">void dfs(int *input, bool *flag ,int start, NSMutableArray *array)</span><br><span class="line">&#123;</span><br><span class="line">Â  Â  if (flag[start - 1] == true) &#123;</span><br><span class="line">Â  Â  Â  Â  return;</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  else</span><br><span class="line">Â  Â  &#123;</span><br><span class="line">Â  Â  Â  Â  flag[start - 1] = true;</span><br><span class="line">Â  Â  Â  Â  [array addObject:[NSNumber numberWithInt:start]];</span><br><span class="line">Â  Â  Â  Â  start = input[start - 1];</span><br><span class="line">Â  Â  Â  Â  dfs(input, flag, start, array);</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">long maxCircle(int *input, int N)</span><br><span class="line">&#123;</span><br><span class="line">Â  Â  long maxNum = 0;</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  NSMutableArray *chainArray = [NSMutableArray array];</span><br><span class="line">Â  Â  int circle[N];</span><br><span class="line">Â  Â  memset(circle, 0, sizeof(circle));</span><br><span class="line">Â  Â  for (int i = 0; i &lt; N; i++) &#123;</span><br><span class="line">Â  Â  Â  Â  bool flag[N];</span><br><span class="line">Â  Â  Â  Â  memset(flag, false, sizeof(flag));</span><br><span class="line">Â  Â  Â  Â  NSMutableArray *array = [NSMutableArray array];</span><br><span class="line">Â  Â  Â  Â  dfs(input, flag, i + 1, array);</span><br><span class="line">Â  Â  Â  Â  [chainArray addObject:array];</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  for (int j = 0; j &lt; N; j++) &#123;</span><br><span class="line">Â  Â  Â  Â  NSArray *array = [chainArray objectAtIndex:j];</span><br><span class="line">Â  Â  Â  Â  int length = (int)array.count;</span><br><span class="line">Â  Â  Â  Â  int LastIndex = [[array lastObject] intValue];</span><br><span class="line">Â  Â  Â  Â  int nextValue = input[LastIndex - 1];</span><br><span class="line">Â  Â  Â  Â  if (nextValue != [[array firstObject] intValue] &amp;&amp; nextValue != [[array objectAtIndex:array.count - 2] intValue]) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  length = 0;</span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  else</span><br><span class="line">Â  Â  Â  Â  &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  if (nextValue == [[array objectAtIndex:array.count - 2] intValue]) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  int MaxLength = 0;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  for (NSArray *item in chainArray) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  int newLength = 0;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ([[item lastObject] intValue] == nextValue) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newLength = length + (int)[item count] - 2;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  MaxLength = MAX(MaxLength, newLength);</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  length = MaxLength;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  if (circle[nextValue - 1] &lt; length) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  circle[nextValue - 1] = length;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line">Â Â  Â  Â  Â </span><br><span class="line">Â  Â  Â  Â  maxNum = MAX(maxNum, length);</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â Â  Â </span><br><span class="line">Â  Â  int tot = 0;</span><br><span class="line">Â  Â  for (int k = 0; k &lt; N; k ++) &#123;</span><br><span class="line">Â  Â  Â  Â  tot += circle[k];</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  maxNum = MAX(maxNum, tot / 2);</span><br><span class="line">Â  Â  return maxNum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, const char * argv[]) &#123;</span><br><span class="line">Â  Â  @autoreleasepool &#123;</span><br><span class="line">Â  Â  Â  Â  // insert code here...</span><br><span class="line">Â  Â  Â  Â  freopen(&quot;/Users/Jiao/Desktop/CodeJam/BFFs/C-large-practice.in&quot;, &quot;r&quot;, stdin);</span><br><span class="line">//Â  Â  Â  Â  freopen(&quot;/Users/Jiao/Desktop/CodeJam/BFFs/C-large-practice.out&quot;, &quot;w&quot;, stdout);</span><br><span class="line">Â  Â  Â  Â  int T;</span><br><span class="line">Â  Â  Â  Â  scanf(&quot;%d&quot;,&amp;T);</span><br><span class="line">Â  Â  Â  Â  for (int i = 1; i&lt;=T; i++) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  int N;</span><br><span class="line">Â  Â  Â  Â  Â  Â  scanf(&quot;%d&quot;,&amp;N);</span><br><span class="line">Â  Â  Â  Â  Â  Â  int Bffs[N];</span><br><span class="line">Â  Â  Â  Â  Â  Â  for (int j = 0; j&lt;N; j++) &#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  int bestFriend;</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  scanf(&quot;%d&quot;,&amp;bestFriend);</span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  Bffs[j]=bestFriend;</span><br><span class="line">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  Â  Â  Â  Â  printf(&quot;Case #%d: %ld\n&quot;,i,maxCircle(Bffs,N));</span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line">Â  Â  &#125;</span><br><span class="line">Â  Â  return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        </div>
        
        
        
    </div>
</div>








</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered">
                <div>
                    <img class="image is-128x128 has-mb-6" src="/images/avatar.png" alt="Jiao Liu">
                    
                    <p class="is-size-4 is-block">
                        Jiao Liu
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Software Engineer
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Chengdu,China</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        æ–‡ç« 
                    </p>
                    <p class="title has-text-weight-normal">
                        6
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        åˆ†ç±»
                    </p>
                    <p class="title has-text-weight-normal">
                        6
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        æ ‡ç­¾
                    </p>
                    <p class="title has-text-weight-normal">
                        10
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/JiaoLiu">
                å…³æ³¨æˆ‘</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Github" href="https://github.com/JiaoLiu">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="ç®€ä¹¦" href="https://www.jianshu.com/u/39482dc75069">
                
                <i class="fa fa-book"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            æ ‡ç­¾äº‘
        </h3>
        <a href="/tags/GCJ/" style="font-size: 10px;">GCJ</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/tensorflow/" style="font-size: 10px;">tensorflow</a> <a href="/tags/å‰ç«¯/" style="font-size: 10px;">å‰ç«¯</a> <a href="/tags/å°ç†ŠçŒ«/" style="font-size: 10px;">å°ç†ŠçŒ«</a> <a href="/tags/å°ç¨‹åº/" style="font-size: 10px;">å°ç¨‹åº</a> <a href="/tags/æ–°ç”Ÿ/" style="font-size: 10px;">æ–°ç”Ÿ</a> <a href="/tags/æœºå™¨å­¦ä¹ /" style="font-size: 10px;">æœºå™¨å­¦ä¹ </a> <a href="/tags/ç§»åŠ¨ç«¯/" style="font-size: 20px;">ç§»åŠ¨ç«¯</a> <a href="/tags/ç®—æ³•/" style="font-size: 20px;">ç®—æ³•</a>
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            é“¾æ¥
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://github.com/chmini-app/CHCharts-wechat" target="_blank">
                    <span class="level-left">
                        <span class="level-item">CHCharts</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


        
            
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                åˆ†ç±»
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/å·¥ä½œ/">
            <span class="level-start">
                <span class="level-item">å·¥ä½œ</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">5</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/å·¥ä½œ/ACM/">
            <span class="level-start">
                <span class="level-item">ACM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/å·¥ä½œ/iOS/">
            <span class="level-start">
                <span class="level-item">iOS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/å·¥ä½œ/å°ç¨‹åº/">
            <span class="level-start">
                <span class="level-item">å°ç¨‹åº</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/ç”Ÿæ´»/">
            <span class="level-start">
                <span class="level-item">ç”Ÿæ´»</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/ç”Ÿæ´»/å°ç†ŠçŒ«/">
            <span class="level-start">
                <span class="level-item">å°ç†ŠçŒ«</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li>
            </ul>
        </div>
    </div>
</div>
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            æœ€æ–°æ–‡ç« 
        </h3>
        
        <article class="media">
            
            <a href="/2018/08/29/å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-08-29T01:50:00.000Z">2018-08-29</time></div>
                    <a href="/2018/08/29/å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾/" class="has-link-black-ter is-size-6">å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/å·¥ä½œ/">å·¥ä½œ</a> / <a class="has-link-grey -link" href="/categories/å·¥ä½œ/å°ç¨‹åº/">å°ç¨‹åº</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/06/21/å°ç†ŠçŒ«æ¥åˆ°ä¸–ç•Œ/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="å°ç†ŠçŒ«æ¥åˆ°ä¸–ç•Œ">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-06-20T16:02:21.000Z">2018-06-21</time></div>
                    <a href="/2018/06/21/å°ç†ŠçŒ«æ¥åˆ°ä¸–ç•Œ/" class="has-link-black-ter is-size-6">å°ç†ŠçŒ«æ¥åˆ°ä¸–ç•Œ</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/ç”Ÿæ´»/">ç”Ÿæ´»</a> / <a class="has-link-grey -link" href="/categories/ç”Ÿæ´»/å°ç†ŠçŒ«/">å°ç†ŠçŒ«</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2017/04/28/iOSå®ç°ç±»Prismaè½¯ä»¶/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="iOSå®ç°ç±»Prismaè½¯ä»¶">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2017-04-28T02:42:21.000Z">2017-04-28</time></div>
                    <a href="/2017/04/28/iOSå®ç°ç±»Prismaè½¯ä»¶/" class="has-link-black-ter is-size-6">iOSå®ç°ç±»Prismaè½¯ä»¶</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/å·¥ä½œ/">å·¥ä½œ</a> / <a class="has-link-grey -link" href="/categories/å·¥ä½œ/iOS/">iOS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2016/08/22/å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2016-08-22T02:58:02.000Z">2016-08-22</time></div>
                    <a href="/2016/08/22/å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶/" class="has-link-black-ter is-size-6">å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/å·¥ä½œ/">å·¥ä½œ</a> / <a class="has-link-grey -link" href="/categories/å·¥ä½œ/iOS/">iOS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2016/08/04/2016å¾®è½¯æ¢æ˜Ÿ-Constraint-Checker/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="2016å¾®è½¯æ¢æ˜Ÿ | Constraint Checker">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2016-08-04T02:56:12.000Z">2016-08-04</time></div>
                    <a href="/2016/08/04/2016å¾®è½¯æ¢æ˜Ÿ-Constraint-Checker/" class="has-link-black-ter is-size-6">2016å¾®è½¯æ¢æ˜Ÿ | Constraint Checker</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/å·¥ä½œ/">å·¥ä½œ</a> / <a class="has-link-grey -link" href="/categories/å·¥ä½œ/ACM/">ACM</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            å½’æ¡£
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">å…«æœˆ 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/06/">
                <span class="level-start">
                    <span class="level-item">å…­æœˆ 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/04/">
                <span class="level-start">
                    <span class="level-item">å››æœˆ 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/08/">
                <span class="level-start">
                    <span class="level-item">å…«æœˆ 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                æ ‡ç­¾
            </h3>
            <ul class="menu-list">
                
                <li>
                    <a class="level is-marginless" href="/tags/GCJ/">
                        <span class="level-start">
                            <span class="level-item">GCJ</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/html/">
                        <span class="level-start">
                            <span class="level-item">html</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/tensorflow/">
                        <span class="level-start">
                            <span class="level-item">tensorflow</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/å‰ç«¯/">
                        <span class="level-start">
                            <span class="level-item">å‰ç«¯</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/å°ç†ŠçŒ«/">
                        <span class="level-start">
                            <span class="level-item">å°ç†ŠçŒ«</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/å°ç¨‹åº/">
                        <span class="level-start">
                            <span class="level-item">å°ç¨‹åº</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/æ–°ç”Ÿ/">
                        <span class="level-start">
                            <span class="level-item">æ–°ç”Ÿ</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/æœºå™¨å­¦ä¹ /">
                        <span class="level-start">
                            <span class="level-item">æœºå™¨å­¦ä¹ </span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/ç§»åŠ¨ç«¯/">
                        <span class="level-start">
                            <span class="level-item">ç§»åŠ¨ç«¯</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">2</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/ç®—æ³•/">
                        <span class="level-start">
                            <span class="level-item">ç®—æ³•</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">2</span>
                        </span>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            é“¾æ¥
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://github.com/chmini-app/CHCharts-wechat" target="_blank">
                    <span class="level-left">
                        <span class="level-item">CHCharts</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                åˆ†ç±»
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/å·¥ä½œ/">
            <span class="level-start">
                <span class="level-item">å·¥ä½œ</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">5</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/å·¥ä½œ/ACM/">
            <span class="level-start">
                <span class="level-item">ACM</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/å·¥ä½œ/iOS/">
            <span class="level-start">
                <span class="level-item">iOS</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/å·¥ä½œ/å°ç¨‹åº/">
            <span class="level-start">
                <span class="level-item">å°ç¨‹åº</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/ç”Ÿæ´»/">
            <span class="level-start">
                <span class="level-item">ç”Ÿæ´»</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/ç”Ÿæ´»/å°ç†ŠçŒ«/">
            <span class="level-start">
                <span class="level-item">å°ç†ŠçŒ«</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            æœ€æ–°æ–‡ç« 
        </h3>
        
        <article class="media">
            
            <a href="/2018/08/29/å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-08-29T01:50:00.000Z">2018-08-29</time></div>
                    <a href="/2018/08/29/å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾/" class="has-link-black-ter is-size-6">å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/å·¥ä½œ/">å·¥ä½œ</a> / <a class="has-link-grey -link" href="/categories/å·¥ä½œ/å°ç¨‹åº/">å°ç¨‹åº</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2018/06/21/å°ç†ŠçŒ«æ¥åˆ°ä¸–ç•Œ/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="å°ç†ŠçŒ«æ¥åˆ°ä¸–ç•Œ">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2018-06-20T16:02:21.000Z">2018-06-21</time></div>
                    <a href="/2018/06/21/å°ç†ŠçŒ«æ¥åˆ°ä¸–ç•Œ/" class="has-link-black-ter is-size-6">å°ç†ŠçŒ«æ¥åˆ°ä¸–ç•Œ</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/ç”Ÿæ´»/">ç”Ÿæ´»</a> / <a class="has-link-grey -link" href="/categories/ç”Ÿæ´»/å°ç†ŠçŒ«/">å°ç†ŠçŒ«</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2017/04/28/iOSå®ç°ç±»Prismaè½¯ä»¶/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="iOSå®ç°ç±»Prismaè½¯ä»¶">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2017-04-28T02:42:21.000Z">2017-04-28</time></div>
                    <a href="/2017/04/28/iOSå®ç°ç±»Prismaè½¯ä»¶/" class="has-link-black-ter is-size-6">iOSå®ç°ç±»Prismaè½¯ä»¶</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/å·¥ä½œ/">å·¥ä½œ</a> / <a class="has-link-grey -link" href="/categories/å·¥ä½œ/iOS/">iOS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2016/08/22/å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2016-08-22T02:58:02.000Z">2016-08-22</time></div>
                    <a href="/2016/08/22/å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶/" class="has-link-black-ter is-size-6">å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/å·¥ä½œ/">å·¥ä½œ</a> / <a class="has-link-grey -link" href="/categories/å·¥ä½œ/iOS/">iOS</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2016/08/04/2016å¾®è½¯æ¢æ˜Ÿ-Constraint-Checker/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="2016å¾®è½¯æ¢æ˜Ÿ | Constraint Checker">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2016-08-04T02:56:12.000Z">2016-08-04</time></div>
                    <a href="/2016/08/04/2016å¾®è½¯æ¢æ˜Ÿ-Constraint-Checker/" class="has-link-black-ter is-size-6">2016å¾®è½¯æ¢æ˜Ÿ | Constraint Checker</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/å·¥ä½œ/">å·¥ä½œ</a> / <a class="has-link-grey -link" href="/categories/å·¥ä½œ/ACM/">ACM</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            å½’æ¡£
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">å…«æœˆ 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/06/">
                <span class="level-start">
                    <span class="level-item">å…­æœˆ 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/04/">
                <span class="level-start">
                    <span class="level-item">å››æœˆ 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/08/">
                <span class="level-start">
                    <span class="level-item">å…«æœˆ 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                æ ‡ç­¾
            </h3>
            <ul class="menu-list">
                
                <li>
                    <a class="level is-marginless" href="/tags/GCJ/">
                        <span class="level-start">
                            <span class="level-item">GCJ</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/html/">
                        <span class="level-start">
                            <span class="level-item">html</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/tensorflow/">
                        <span class="level-start">
                            <span class="level-item">tensorflow</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/å‰ç«¯/">
                        <span class="level-start">
                            <span class="level-item">å‰ç«¯</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/å°ç†ŠçŒ«/">
                        <span class="level-start">
                            <span class="level-item">å°ç†ŠçŒ«</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/å°ç¨‹åº/">
                        <span class="level-start">
                            <span class="level-item">å°ç¨‹åº</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/æ–°ç”Ÿ/">
                        <span class="level-start">
                            <span class="level-item">æ–°ç”Ÿ</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/æœºå™¨å­¦ä¹ /">
                        <span class="level-start">
                            <span class="level-item">æœºå™¨å­¦ä¹ </span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">1</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/ç§»åŠ¨ç«¯/">
                        <span class="level-start">
                            <span class="level-item">ç§»åŠ¨ç«¯</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">2</span>
                        </span>
                    </a>
                </li>
                
                <li>
                    <a class="level is-marginless" href="/tags/ç®—æ³•/">
                        <span class="level-start">
                            <span class="level-item">ç®—æ³•</span>
                        </span>
                        <span class="level-end">
                            <span class="level-item tag">2</span>
                        </span>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
  <div class="container">
    <div class="level">
      <div class="level-start has-text-centered-mobile">
        <a class="footer-logo is-block has-mb-6" href="/">
          
          <img src="/images/logo.png" alt="å°ç†ŠçŒ«çš„èŠ±å›­" height="28">
          
        </a>
        <p class="is-size-7">
          &copy; 2019 Jiao Liu&nbsp; at Chengdu,China
        </p>
      </div>
      <div class="level-end">
        
        <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
           
          <p class="control">
            <a class="button is-white is-large" target="_parent" title="Contact via E-mail" href="mailto:694121590@qq.com">
              
              <i class="fa fa-envelope"></i> 
            </a>
          </p>
          
          <p class="control">
            <a class="button is-white is-large" target="_parent" title="Contact via QQ" href="http://wpa.qq.com/msgrd?v=3&amp;uin=694121590&amp;site=jane66.com&amp;menu=yes">
              
              <i class="fab fa-qq"></i> 
            </a>
          </p>
          
        </div>
        
      </div>
    </div>
  </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {matchFontHeight: false},
        SVG: {matchFontHeight: false},
        CommonHTML: {matchFontHeight: false}
    });
});
</script>

    
    

<a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'æ–‡ç« ',
                PAGES: 'é¡µé¢',
                CATEGORIES: 'åˆ†ç±»',
                TAGS: 'æ ‡ç­¾',
                UNTITLED: '(æ— æ ‡é¢˜)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>